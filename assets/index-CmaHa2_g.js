function Wp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function as(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Xc={exports:{}},Wi={},Zc={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),Vp=Symbol.for("react.portal"),Hp=Symbol.for("react.fragment"),qp=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),Gp=Symbol.for("react.provider"),Jp=Symbol.for("react.context"),Qp=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Xp=Symbol.for("react.memo"),Zp=Symbol.for("react.lazy"),pu=Symbol.iterator;function e0(t){return t===null||typeof t!="object"?null:(t=pu&&t[pu]||t["@@iterator"],typeof t=="function"?t:null)}var ed={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},td=Object.assign,rd={};function an(t,e,r){this.props=t,this.context=e,this.refs=rd,this.updater=r||ed}an.prototype.isReactComponent={};an.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};an.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nd(){}nd.prototype=an.prototype;function ol(t,e,r){this.props=t,this.context=e,this.refs=rd,this.updater=r||ed}var al=ol.prototype=new nd;al.constructor=ol;td(al,an.prototype);al.isPureReactComponent=!0;var mu=Array.isArray,sd=Object.prototype.hasOwnProperty,ll={current:null},id={key:!0,ref:!0,__self:!0,__source:!0};function od(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)sd.call(e,n)&&!id.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ls,type:t,key:i,ref:o,props:s,_owner:ll.current}}function t0(t,e){return{$$typeof:ls,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ul(t){return typeof t=="object"&&t!==null&&t.$$typeof===ls}function r0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var gu=/\/+/g;function po(t,e){return typeof t=="object"&&t!==null&&t.key!=null?r0(""+t.key):e.toString(36)}function Hs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ls:case Vp:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+po(o,0):n,mu(s)?(r="",t!=null&&(r=t.replace(gu,"$&/")+"/"),Hs(s,e,r,"",function(c){return c})):s!=null&&(ul(s)&&(s=t0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",mu(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+po(i,a);o+=Hs(i,e,r,l,s)}else if(l=e0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+po(i,a++),o+=Hs(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gs(t,e,r){if(t==null)return t;var n=[],s=0;return Hs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function n0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ae={current:null},qs={transition:null},s0={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:qs,ReactCurrentOwner:ll};function ad(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:gs,forEach:function(t,e,r){gs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return gs(t,function(){e++}),e},toArray:function(t){return gs(t,function(e){return e})||[]},only:function(t){if(!ul(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=an;B.Fragment=Hp;B.Profiler=Kp;B.PureComponent=ol;B.StrictMode=qp;B.Suspense=Yp;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0;B.act=ad;B.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=td({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ll.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sd.call(e,l)&&!id.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:ls,type:t.type,key:s,ref:i,props:n,_owner:o}};B.createContext=function(t){return t={$$typeof:Jp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gp,_context:t},t.Consumer=t};B.createElement=od;B.createFactory=function(t){var e=od.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:Qp,render:t}};B.isValidElement=ul;B.lazy=function(t){return{$$typeof:Zp,_payload:{_status:-1,_result:t},_init:n0}};B.memo=function(t,e){return{$$typeof:Xp,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=qs.transition;qs.transition={};try{t()}finally{qs.transition=e}};B.unstable_act=ad;B.useCallback=function(t,e){return Ae.current.useCallback(t,e)};B.useContext=function(t){return Ae.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Ae.current.useDeferredValue(t)};B.useEffect=function(t,e){return Ae.current.useEffect(t,e)};B.useId=function(){return Ae.current.useId()};B.useImperativeHandle=function(t,e,r){return Ae.current.useImperativeHandle(t,e,r)};B.useInsertionEffect=function(t,e){return Ae.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Ae.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Ae.current.useMemo(t,e)};B.useReducer=function(t,e,r){return Ae.current.useReducer(t,e,r)};B.useRef=function(t){return Ae.current.useRef(t)};B.useState=function(t){return Ae.current.useState(t)};B.useSyncExternalStore=function(t,e,r){return Ae.current.useSyncExternalStore(t,e,r)};B.useTransition=function(){return Ae.current.useTransition()};B.version="18.3.1";Zc.exports=B;var O=Zc.exports;const i0=Yc(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=O,a0=Symbol.for("react.element"),l0=Symbol.for("react.fragment"),u0=Object.prototype.hasOwnProperty,c0=o0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d0={key:!0,ref:!0,__self:!0,__source:!0};function ld(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)u0.call(e,n)&&!d0.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:a0,type:t,key:i,ref:o,props:s,_owner:c0.current}}Wi.Fragment=l0;Wi.jsx=ld;Wi.jsxs=ld;Xc.exports=Wi;var u=Xc.exports,qo={},ud={exports:{}},Ge={},cd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,L){var D=T.length;T.push(L);e:for(;0<D;){var K=D-1>>>1,F=T[K];if(0<s(F,L))T[K]=L,T[D]=F,D=K;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var L=T[0],D=T.pop();if(D!==L){T[0]=D;e:for(var K=0,F=T.length,be=F>>>1;K<be;){var ft=2*(K+1)-1,hn=T[ft],wt=ft+1,er=T[wt];if(0>s(hn,D))wt<F&&0>s(er,hn)?(T[K]=er,T[wt]=D,K=wt):(T[K]=hn,T[ft]=D,K=ft);else if(wt<F&&0>s(er,D))T[K]=er,T[wt]=D,K=wt;else break e}}return L}function s(T,L){var D=T.sortIndex-L.sortIndex;return D!==0?D:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=T)n(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=r(c)}}function k(T){if(w=!1,v(T),!y)if(r(l)!==null)y=!0,de(_);else{var L=r(c);L!==null&&H(k,L.startTime-T)}}function _(T,L){y=!1,w&&(w=!1,g(C),C=-1),m=!0;var D=h;try{for(v(L),f=r(l);f!==null&&(!(f.expirationTime>L)||T&&!M());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var F=K(f.expirationTime<=L);L=t.unstable_now(),typeof F=="function"?f.callback=F:f===r(l)&&n(l),v(L)}else n(l);f=r(l)}if(f!==null)var be=!0;else{var ft=r(c);ft!==null&&H(k,ft.startTime-L),be=!1}return be}finally{f=null,h=D,m=!1}}var x=!1,E=null,C=-1,N=5,P=-1;function M(){return!(t.unstable_now()-P<N)}function ie(){if(E!==null){var T=t.unstable_now();P=T;var L=!0;try{L=E(!0,T)}finally{L?X():(x=!1,E=null)}}else x=!1}var X;if(typeof p=="function")X=function(){p(ie)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Oe=ve.port2;ve.port1.onmessage=ie,X=function(){Oe.postMessage(null)}}else X=function(){b(ie,0)};function de(T){E=T,x||(x=!0,X())}function H(T,L){C=b(function(){T(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,de(_))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(T){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var D=h;h=L;try{return T()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=h;h=T;try{return L()}finally{h=D}},t.unstable_scheduleCallback=function(T,L,D){var K=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?K+D:K):D=K,T){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=D+F,T={id:d++,callback:L,priorityLevel:T,startTime:D,expirationTime:F,sortIndex:-1},D>K?(T.sortIndex=D,e(c,T),r(l)===null&&T===r(c)&&(w?(g(C),C=-1):w=!0,H(k,D-K))):(T.sortIndex=F,e(l,T),y||m||(y=!0,de(_))),T},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(T){var L=h;return function(){var D=h;h=L;try{return T.apply(this,arguments)}finally{h=D}}}})(dd);cd.exports=dd;var f0=cd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0=O,Ke=f0;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fd=new Set,zn={};function kr(t,e){Yr(t,e),Yr(t+"Capture",e)}function Yr(t,e){for(zn[t]=e,t=0;t<e.length;t++)fd.add(e[t])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=Object.prototype.hasOwnProperty,p0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vu={},yu={};function m0(t){return Ko.call(yu,t)?!0:Ko.call(vu,t)?!1:p0.test(t)?yu[t]=!0:(vu[t]=!0,!1)}function g0(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function v0(t,e,r,n){if(e===null||typeof e>"u"||g0(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Ie(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Ie(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Ie(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Ie(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Ie(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Ie(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Ie(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Ie(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Ie(t,5,!1,t.toLowerCase(),null,!1,!1)});var cl=/[\-:]([a-z])/g;function dl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cl,dl);xe[e]=new Ie(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cl,dl);xe[e]=new Ie(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cl,dl);xe[e]=new Ie(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Ie(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Ie(t,1,!1,t.toLowerCase(),null,!0,!0)});function fl(t,e,r,n){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(v0(e,r,s,n)&&(r=null),n||s===null?m0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ct=h0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),hl=Symbol.for("react.strict_mode"),Go=Symbol.for("react.profiler"),hd=Symbol.for("react.provider"),pd=Symbol.for("react.context"),pl=Symbol.for("react.forward_ref"),Jo=Symbol.for("react.suspense"),Qo=Symbol.for("react.suspense_list"),ml=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),md=Symbol.for("react.offscreen"),wu=Symbol.iterator;function mn(t){return t===null||typeof t!="object"?null:(t=wu&&t[wu]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,mo;function bn(t){if(mo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);mo=e&&e[1]||""}return`
`+mo+t}var go=!1;function vo(t,e){if(!t||go)return"";go=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{go=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bn(t):""}function y0(t){switch(t.tag){case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 2:case 15:return t=vo(t.type,!1),t;case 11:return t=vo(t.type.render,!1),t;case 1:return t=vo(t.type,!0),t;default:return""}}function Yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rr:return"Fragment";case Pr:return"Portal";case Go:return"Profiler";case hl:return"StrictMode";case Jo:return"Suspense";case Qo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pd:return(t.displayName||"Context")+".Consumer";case hd:return(t._context.displayName||"Context")+".Provider";case pl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ml:return e=t.displayName||null,e!==null?e:Yo(t.type)||"Memo";case Rt:e=t._payload,t=t._init;try{return Yo(t(e))}catch{}}return null}function w0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yo(e);case 8:return e===hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _0(t){var e=gd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ys(t){t._valueTracker||(t._valueTracker=_0(t))}function vd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=gd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xo(t,e){var r=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function _u(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yd(t,e){e=e.checked,e!=null&&fl(t,"checked",e,!1)}function Zo(t,e){yd(t,e);var r=Gt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ea(t,e.type,r):e.hasOwnProperty("defaultValue")&&ea(t,e.type,Gt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ku(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ea(t,e,r){(e!=="number"||ai(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Sn=Array.isArray;function Wr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ta(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(Sn(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gt(r)}}function wd(t,e){var r=Gt(e.value),n=Gt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function bu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _d(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ra(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_d(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ws,kd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ws.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k0=["Webkit","ms","Moz","O"];Object.keys(Pn).forEach(function(t){k0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pn[e]=Pn[t]})});function xd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Pn.hasOwnProperty(t)&&Pn[t]?(""+e).trim():e+"px"}function bd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=xd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var x0=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function na(t,e){if(e){if(x0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function sa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=null;function gl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oa=null,Vr=null,Hr=null;function Su(t){if(t=ds(t)){if(typeof oa!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Gi(e),oa(t.stateNode,t.type,e))}}function Sd(t){Vr?Hr?Hr.push(t):Hr=[t]:Vr=t}function Ed(){if(Vr){var t=Vr,e=Hr;if(Hr=Vr=null,Su(t),e)for(t=0;t<e.length;t++)Su(e[t])}}function jd(t,e){return t(e)}function Td(){}var yo=!1;function Nd(t,e,r){if(yo)return t(e,r);yo=!0;try{return jd(t,e,r)}finally{yo=!1,(Vr!==null||Hr!==null)&&(Td(),Ed())}}function Vn(t,e){var r=t.stateNode;if(r===null)return null;var n=Gi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var aa=!1;if(Et)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){aa=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{aa=!1}function b0(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Rn=!1,li=null,ui=!1,la=null,S0={onError:function(t){Rn=!0,li=t}};function E0(t,e,r,n,s,i,o,a,l){Rn=!1,li=null,b0.apply(S0,arguments)}function j0(t,e,r,n,s,i,o,a,l){if(E0.apply(this,arguments),Rn){if(Rn){var c=li;Rn=!1,li=null}else throw Error(j(198));ui||(ui=!0,la=c)}}function xr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Cd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Eu(t){if(xr(t)!==t)throw Error(j(188))}function T0(t){var e=t.alternate;if(!e){if(e=xr(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Eu(s),t;if(i===n)return Eu(s),e;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function Od(t){return t=T0(t),t!==null?Pd(t):null}function Pd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pd(t);if(e!==null)return e;t=t.sibling}return null}var Rd=Ke.unstable_scheduleCallback,ju=Ke.unstable_cancelCallback,N0=Ke.unstable_shouldYield,C0=Ke.unstable_requestPaint,ae=Ke.unstable_now,O0=Ke.unstable_getCurrentPriorityLevel,vl=Ke.unstable_ImmediatePriority,Ad=Ke.unstable_UserBlockingPriority,ci=Ke.unstable_NormalPriority,P0=Ke.unstable_LowPriority,Id=Ke.unstable_IdlePriority,Vi=null,vt=null;function R0(t){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Vi,t,void 0,(t.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:$0,A0=Math.log,I0=Math.LN2;function $0(t){return t>>>=0,t===0?32:31-(A0(t)/I0|0)|0}var _s=64,ks=4194304;function En(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function di(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=En(a):(i&=o,i!==0&&(n=En(i)))}else o=r&~s,o!==0?n=En(o):i!==0&&(n=En(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ut(e),s=1<<r,n|=t[r],e&=~s;return n}function L0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D0(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ut(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=L0(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ua(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $d(){var t=_s;return _s<<=1,!(_s&4194240)&&(_s=64),t}function wo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function us(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ut(e),t[e]=r}function U0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ut(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function yl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ut(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var q=0;function Ld(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dd,wl,Ud,Md,Bd,ca=!1,xs=[],Bt=null,Ft=null,zt=null,Hn=new Map,qn=new Map,It=[],M0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(t,e){switch(t){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Hn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(e.pointerId)}}function vn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ds(e),e!==null&&wl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function B0(t,e,r,n,s){switch(e){case"focusin":return Bt=vn(Bt,t,e,r,n,s),!0;case"dragenter":return Ft=vn(Ft,t,e,r,n,s),!0;case"mouseover":return zt=vn(zt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Hn.set(i,vn(Hn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,qn.set(i,vn(qn.get(i)||null,t,e,r,n,s)),!0}return!1}function Fd(t){var e=cr(t.target);if(e!==null){var r=xr(e);if(r!==null){if(e=r.tag,e===13){if(e=Cd(r),e!==null){t.blockedOn=e,Bd(t.priority,function(){Ud(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ks(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=da(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ia=n,r.target.dispatchEvent(n),ia=null}else return e=ds(r),e!==null&&wl(e),t.blockedOn=r,!1;e.shift()}return!0}function Nu(t,e,r){Ks(t)&&r.delete(e)}function F0(){ca=!1,Bt!==null&&Ks(Bt)&&(Bt=null),Ft!==null&&Ks(Ft)&&(Ft=null),zt!==null&&Ks(zt)&&(zt=null),Hn.forEach(Nu),qn.forEach(Nu)}function yn(t,e){t.blockedOn===e&&(t.blockedOn=null,ca||(ca=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,F0)))}function Kn(t){function e(s){return yn(s,t)}if(0<xs.length){yn(xs[0],t);for(var r=1;r<xs.length;r++){var n=xs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Bt!==null&&yn(Bt,t),Ft!==null&&yn(Ft,t),zt!==null&&yn(zt,t),Hn.forEach(e),qn.forEach(e),r=0;r<It.length;r++)n=It[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<It.length&&(r=It[0],r.blockedOn===null);)Fd(r),r.blockedOn===null&&It.shift()}var qr=Ct.ReactCurrentBatchConfig,fi=!0;function z0(t,e,r,n){var s=q,i=qr.transition;qr.transition=null;try{q=1,_l(t,e,r,n)}finally{q=s,qr.transition=i}}function W0(t,e,r,n){var s=q,i=qr.transition;qr.transition=null;try{q=4,_l(t,e,r,n)}finally{q=s,qr.transition=i}}function _l(t,e,r,n){if(fi){var s=da(t,e,r,n);if(s===null)Co(t,e,n,hi,r),Tu(t,n);else if(B0(s,t,e,r,n))n.stopPropagation();else if(Tu(t,n),e&4&&-1<M0.indexOf(t)){for(;s!==null;){var i=ds(s);if(i!==null&&Dd(i),i=da(t,e,r,n),i===null&&Co(t,e,n,hi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Co(t,e,n,null,r)}}var hi=null;function da(t,e,r,n){if(hi=null,t=gl(n),t=cr(t),t!==null)if(e=xr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Cd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hi=t,null}function zd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O0()){case vl:return 1;case Ad:return 4;case ci:case P0:return 16;case Id:return 536870912;default:return 16}default:return 16}}var Ut=null,kl=null,Gs=null;function Wd(){if(Gs)return Gs;var t,e=kl,r=e.length,n,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Gs=s.slice(t,1<n?1-n:void 0)}function Js(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bs(){return!0}function Cu(){return!1}function Je(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bs:Cu,this.isPropagationStopped=Cu,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),e}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=Je(ln),cs=se({},ln,{view:0,detail:0}),V0=Je(cs),_o,ko,wn,Hi=se({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wn&&(wn&&t.type==="mousemove"?(_o=t.screenX-wn.screenX,ko=t.screenY-wn.screenY):ko=_o=0,wn=t),_o)},movementY:function(t){return"movementY"in t?t.movementY:ko}}),Ou=Je(Hi),H0=se({},Hi,{dataTransfer:0}),q0=Je(H0),K0=se({},cs,{relatedTarget:0}),xo=Je(K0),G0=se({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),J0=Je(G0),Q0=se({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Y0=Je(Q0),X0=se({},ln,{data:0}),Pu=Je(X0),Z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tm[t])?!!e[t]:!1}function bl(){return rm}var nm=se({},cs,{key:function(t){if(t.key){var e=Z0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?em[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(t){return t.type==="keypress"?Js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sm=Je(nm),im=se({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=Je(im),om=se({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),am=Je(om),lm=se({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),um=Je(lm),cm=se({},Hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dm=Je(cm),fm=[9,13,27,32],Sl=Et&&"CompositionEvent"in window,An=null;Et&&"documentMode"in document&&(An=document.documentMode);var hm=Et&&"TextEvent"in window&&!An,Vd=Et&&(!Sl||An&&8<An&&11>=An),Au=" ",Iu=!1;function Hd(t,e){switch(t){case"keyup":return fm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ar=!1;function pm(t,e){switch(t){case"compositionend":return qd(e);case"keypress":return e.which!==32?null:(Iu=!0,Au);case"textInput":return t=e.data,t===Au&&Iu?null:t;default:return null}}function mm(t,e){if(Ar)return t==="compositionend"||!Sl&&Hd(t,e)?(t=Wd(),Gs=kl=Ut=null,Ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vd&&e.locale!=="ko"?null:e.data;default:return null}}var gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gm[t.type]:e==="textarea"}function Kd(t,e,r,n){Sd(n),e=pi(e,"onChange"),0<e.length&&(r=new xl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var In=null,Gn=null;function vm(t){sf(t,0)}function qi(t){var e=Lr(t);if(vd(e))return t}function ym(t,e){if(t==="change")return e}var Gd=!1;if(Et){var bo;if(Et){var So="oninput"in document;if(!So){var Lu=document.createElement("div");Lu.setAttribute("oninput","return;"),So=typeof Lu.oninput=="function"}bo=So}else bo=!1;Gd=bo&&(!document.documentMode||9<document.documentMode)}function Du(){In&&(In.detachEvent("onpropertychange",Jd),Gn=In=null)}function Jd(t){if(t.propertyName==="value"&&qi(Gn)){var e=[];Kd(e,Gn,t,gl(t)),Nd(vm,e)}}function wm(t,e,r){t==="focusin"?(Du(),In=e,Gn=r,In.attachEvent("onpropertychange",Jd)):t==="focusout"&&Du()}function _m(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qi(Gn)}function km(t,e){if(t==="click")return qi(e)}function xm(t,e){if(t==="input"||t==="change")return qi(e)}function bm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dt=typeof Object.is=="function"?Object.is:bm;function Jn(t,e){if(dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ko.call(e,s)||!dt(t[s],e[s]))return!1}return!0}function Uu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mu(t,e){var r=Uu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Uu(r)}}function Qd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yd(){for(var t=window,e=ai();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ai(t.document)}return e}function El(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Sm(t){var e=Yd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Qd(r.ownerDocument.documentElement,r)){if(n!==null&&El(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Mu(r,i);var o=Mu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Em=Et&&"documentMode"in document&&11>=document.documentMode,Ir=null,fa=null,$n=null,ha=!1;function Bu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ha||Ir==null||Ir!==ai(n)||(n=Ir,"selectionStart"in n&&El(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$n&&Jn($n,n)||($n=n,n=pi(fa,"onSelect"),0<n.length&&(e=new xl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ir)))}function Ss(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var $r={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},Eo={},Xd={};Et&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Ki(t){if(Eo[t])return Eo[t];if(!$r[t])return t;var e=$r[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Xd)return Eo[t]=e[r];return t}var Zd=Ki("animationend"),ef=Ki("animationiteration"),tf=Ki("animationstart"),rf=Ki("transitionend"),nf=new Map,Fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(t,e){nf.set(t,e),kr(e,[t])}for(var jo=0;jo<Fu.length;jo++){var To=Fu[jo],jm=To.toLowerCase(),Tm=To[0].toUpperCase()+To.slice(1);Qt(jm,"on"+Tm)}Qt(Zd,"onAnimationEnd");Qt(ef,"onAnimationIteration");Qt(tf,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(rf,"onTransitionEnd");Yr("onMouseEnter",["mouseout","mouseover"]);Yr("onMouseLeave",["mouseout","mouseover"]);Yr("onPointerEnter",["pointerout","pointerover"]);Yr("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nm=new Set("cancel close invalid load scroll toggle".split(" ").concat(jn));function zu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,j0(n,e,void 0,t),t.currentTarget=null}function sf(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;zu(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;zu(s,a,c),i=l}}}if(ui)throw t=la,ui=!1,la=null,t}function Q(t,e){var r=e[ya];r===void 0&&(r=e[ya]=new Set);var n=t+"__bubble";r.has(n)||(of(e,t,2,!1),r.add(n))}function No(t,e,r){var n=0;e&&(n|=4),of(r,t,n,e)}var Es="_reactListening"+Math.random().toString(36).slice(2);function Qn(t){if(!t[Es]){t[Es]=!0,fd.forEach(function(r){r!=="selectionchange"&&(Nm.has(r)||No(r,!1,t),No(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Es]||(e[Es]=!0,No("selectionchange",!1,e))}}function of(t,e,r,n){switch(zd(e)){case 1:var s=z0;break;case 4:s=W0;break;default:s=_l}r=s.bind(null,e,r,t),s=void 0,!aa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Co(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=cr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Nd(function(){var c=i,d=gl(r),f=[];e:{var h=nf.get(t);if(h!==void 0){var m=xl,y=t;switch(t){case"keypress":if(Js(r)===0)break e;case"keydown":case"keyup":m=sm;break;case"focusin":y="focus",m=xo;break;case"focusout":y="blur",m=xo;break;case"beforeblur":case"afterblur":m=xo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=am;break;case Zd:case ef:case tf:m=J0;break;case rf:m=um;break;case"scroll":m=V0;break;case"wheel":m=dm;break;case"copy":case"cut":case"paste":m=Y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ru}var w=(e&4)!==0,b=!w&&t==="scroll",g=w?h!==null?h+"Capture":null:h;w=[];for(var p=c,v;p!==null;){v=p;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,g!==null&&(k=Vn(p,g),k!=null&&w.push(Yn(p,k,v)))),b)break;p=p.return}0<w.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==ia&&(y=r.relatedTarget||r.fromElement)&&(cr(y)||y[jt]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=c,y=y?cr(y):null,y!==null&&(b=xr(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(w=Ou,k="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Ru,k="onPointerLeave",g="onPointerEnter",p="pointer"),b=m==null?h:Lr(m),v=y==null?h:Lr(y),h=new w(k,p+"leave",m,r,d),h.target=b,h.relatedTarget=v,k=null,cr(d)===c&&(w=new w(g,p+"enter",y,r,d),w.target=v,w.relatedTarget=b,k=w),b=k,m&&y)t:{for(w=m,g=y,p=0,v=w;v;v=Sr(v))p++;for(v=0,k=g;k;k=Sr(k))v++;for(;0<p-v;)w=Sr(w),p--;for(;0<v-p;)g=Sr(g),v--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=Sr(w),g=Sr(g)}w=null}else w=null;m!==null&&Wu(f,h,m,w,!1),y!==null&&b!==null&&Wu(f,b,y,w,!0)}}e:{if(h=c?Lr(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=ym;else if($u(h))if(Gd)_=xm;else{_=_m;var x=wm}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=km);if(_&&(_=_(t,c))){Kd(f,_,r,d);break e}x&&x(t,h,c),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&ea(h,"number",h.value)}switch(x=c?Lr(c):window,t){case"focusin":($u(x)||x.contentEditable==="true")&&(Ir=x,fa=c,$n=null);break;case"focusout":$n=fa=Ir=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,Bu(f,r,d);break;case"selectionchange":if(Em)break;case"keydown":case"keyup":Bu(f,r,d)}var E;if(Sl)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ar?Hd(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Vd&&r.locale!=="ko"&&(Ar||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ar&&(E=Wd()):(Ut=d,kl="value"in Ut?Ut.value:Ut.textContent,Ar=!0)),x=pi(c,C),0<x.length&&(C=new Pu(C,t,null,r,d),f.push({event:C,listeners:x}),E?C.data=E:(E=qd(r),E!==null&&(C.data=E)))),(E=hm?pm(t,r):mm(t,r))&&(c=pi(c,"onBeforeInput"),0<c.length&&(d=new Pu("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=E))}sf(f,e)})}function Yn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function pi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vn(t,r),i!=null&&n.unshift(Yn(t,i,s)),i=Vn(t,e),i!=null&&n.push(Yn(t,i,s))),t=t.return}return n}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Vn(r,i),l!=null&&o.unshift(Yn(r,l,a))):s||(l=Vn(r,i),l!=null&&o.push(Yn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Cm=/\r\n?/g,Om=/\u0000|\uFFFD/g;function Vu(t){return(typeof t=="string"?t:""+t).replace(Cm,`
`).replace(Om,"")}function js(t,e,r){if(e=Vu(e),Vu(t)!==e&&r)throw Error(j(425))}function mi(){}var pa=null,ma=null;function ga(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var va=typeof setTimeout=="function"?setTimeout:void 0,Pm=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,Rm=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(t){return Hu.resolve(null).then(t).catch(Am)}:va;function Am(t){setTimeout(function(){throw t})}function Oo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Kn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Kn(e)}function Wt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var un=Math.random().toString(36).slice(2),gt="__reactFiber$"+un,Xn="__reactProps$"+un,jt="__reactContainer$"+un,ya="__reactEvents$"+un,Im="__reactListeners$"+un,$m="__reactHandles$"+un;function cr(t){var e=t[gt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[jt]||r[gt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=qu(t);t!==null;){if(r=t[gt])return r;t=qu(t)}return e}t=r,r=t.parentNode}return null}function ds(t){return t=t[gt]||t[jt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Gi(t){return t[Xn]||null}var wa=[],Dr=-1;function Yt(t){return{current:t}}function Y(t){0>Dr||(t.current=wa[Dr],wa[Dr]=null,Dr--)}function J(t,e){Dr++,wa[Dr]=t.current,t.current=e}var Jt={},Ce=Yt(Jt),Me=Yt(!1),gr=Jt;function Xr(t,e){var r=t.type.contextTypes;if(!r)return Jt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Be(t){return t=t.childContextTypes,t!=null}function gi(){Y(Me),Y(Ce)}function Ku(t,e,r){if(Ce.current!==Jt)throw Error(j(168));J(Ce,e),J(Me,r)}function af(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(j(108,w0(t)||"Unknown",s));return se({},r,n)}function vi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jt,gr=Ce.current,J(Ce,t),J(Me,Me.current),!0}function Gu(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=af(t,e,gr),n.__reactInternalMemoizedMergedChildContext=t,Y(Me),Y(Ce),J(Ce,t)):Y(Me),J(Me,r)}var kt=null,Ji=!1,Po=!1;function lf(t){kt===null?kt=[t]:kt.push(t)}function Lm(t){Ji=!0,lf(t)}function Xt(){if(!Po&&kt!==null){Po=!0;var t=0,e=q;try{var r=kt;for(q=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}kt=null,Ji=!1}catch(s){throw kt!==null&&(kt=kt.slice(t+1)),Rd(vl,Xt),s}finally{q=e,Po=!1}}return null}var Ur=[],Mr=0,yi=null,wi=0,Qe=[],Ye=0,vr=null,xt=1,bt="";function nr(t,e){Ur[Mr++]=wi,Ur[Mr++]=yi,yi=t,wi=e}function uf(t,e,r){Qe[Ye++]=xt,Qe[Ye++]=bt,Qe[Ye++]=vr,vr=t;var n=xt;t=bt;var s=32-ut(n)-1;n&=~(1<<s),r+=1;var i=32-ut(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,xt=1<<32-ut(e)+s|r<<s|n,bt=i+t}else xt=1<<i|r<<s|n,bt=t}function jl(t){t.return!==null&&(nr(t,1),uf(t,1,0))}function Tl(t){for(;t===yi;)yi=Ur[--Mr],Ur[Mr]=null,wi=Ur[--Mr],Ur[Mr]=null;for(;t===vr;)vr=Qe[--Ye],Qe[Ye]=null,bt=Qe[--Ye],Qe[Ye]=null,xt=Qe[--Ye],Qe[Ye]=null}var qe=null,He=null,ee=!1,lt=null;function cf(t,e){var r=Xe(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ju(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qe=t,He=Wt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qe=t,He=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=vr!==null?{id:xt,overflow:bt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Xe(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qe=t,He=null,!0):!1;default:return!1}}function _a(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ka(t){if(ee){var e=He;if(e){var r=e;if(!Ju(t,e)){if(_a(t))throw Error(j(418));e=Wt(r.nextSibling);var n=qe;e&&Ju(t,e)?cf(n,r):(t.flags=t.flags&-4097|2,ee=!1,qe=t)}}else{if(_a(t))throw Error(j(418));t.flags=t.flags&-4097|2,ee=!1,qe=t}}}function Qu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qe=t}function Ts(t){if(t!==qe)return!1;if(!ee)return Qu(t),ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ga(t.type,t.memoizedProps)),e&&(e=He)){if(_a(t))throw df(),Error(j(418));for(;e;)cf(t,e),e=Wt(e.nextSibling)}if(Qu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){He=Wt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}He=null}}else He=qe?Wt(t.stateNode.nextSibling):null;return!0}function df(){for(var t=He;t;)t=Wt(t.nextSibling)}function Zr(){He=qe=null,ee=!1}function Nl(t){lt===null?lt=[t]:lt.push(t)}var Dm=Ct.ReactCurrentBatchConfig;function _n(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function Ns(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yu(t){var e=t._init;return e(t._payload)}function ff(t){function e(g,p){if(t){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Kt(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,k){return p===null||p.tag!==6?(p=Uo(v,g.mode,k),p.return=g,p):(p=s(p,v),p.return=g,p)}function l(g,p,v,k){var _=v.type;return _===Rr?d(g,p,v.props.children,k,v.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&Yu(_)===p.type)?(k=s(p,v.props),k.ref=_n(g,p,v),k.return=g,k):(k=ri(v.type,v.key,v.props,null,g.mode,k),k.ref=_n(g,p,v),k.return=g,k)}function c(g,p,v,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Mo(v,g.mode,k),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function d(g,p,v,k,_){return p===null||p.tag!==7?(p=mr(v,g.mode,k,_),p.return=g,p):(p=s(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Uo(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case vs:return v=ri(p.type,p.key,p.props,null,g.mode,v),v.ref=_n(g,null,p),v.return=g,v;case Pr:return p=Mo(p,g.mode,v),p.return=g,p;case Rt:var k=p._init;return f(g,k(p._payload),v)}if(Sn(p)||mn(p))return p=mr(p,g.mode,v,null),p.return=g,p;Ns(g,p)}return null}function h(g,p,v,k){var _=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(g,p,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vs:return v.key===_?l(g,p,v,k):null;case Pr:return v.key===_?c(g,p,v,k):null;case Rt:return _=v._init,h(g,p,_(v._payload),k)}if(Sn(v)||mn(v))return _!==null?null:d(g,p,v,k,null);Ns(g,v)}return null}function m(g,p,v,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(v)||null,a(p,g,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case vs:return g=g.get(k.key===null?v:k.key)||null,l(p,g,k,_);case Pr:return g=g.get(k.key===null?v:k.key)||null,c(p,g,k,_);case Rt:var x=k._init;return m(g,p,v,x(k._payload),_)}if(Sn(k)||mn(k))return g=g.get(v)||null,d(p,g,k,_,null);Ns(p,k)}return null}function y(g,p,v,k){for(var _=null,x=null,E=p,C=p=0,N=null;E!==null&&C<v.length;C++){E.index>C?(N=E,E=null):N=E.sibling;var P=h(g,E,v[C],k);if(P===null){E===null&&(E=N);break}t&&E&&P.alternate===null&&e(g,E),p=i(P,p,C),x===null?_=P:x.sibling=P,x=P,E=N}if(C===v.length)return r(g,E),ee&&nr(g,C),_;if(E===null){for(;C<v.length;C++)E=f(g,v[C],k),E!==null&&(p=i(E,p,C),x===null?_=E:x.sibling=E,x=E);return ee&&nr(g,C),_}for(E=n(g,E);C<v.length;C++)N=m(E,g,C,v[C],k),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?C:N.key),p=i(N,p,C),x===null?_=N:x.sibling=N,x=N);return t&&E.forEach(function(M){return e(g,M)}),ee&&nr(g,C),_}function w(g,p,v,k){var _=mn(v);if(typeof _!="function")throw Error(j(150));if(v=_.call(v),v==null)throw Error(j(151));for(var x=_=null,E=p,C=p=0,N=null,P=v.next();E!==null&&!P.done;C++,P=v.next()){E.index>C?(N=E,E=null):N=E.sibling;var M=h(g,E,P.value,k);if(M===null){E===null&&(E=N);break}t&&E&&M.alternate===null&&e(g,E),p=i(M,p,C),x===null?_=M:x.sibling=M,x=M,E=N}if(P.done)return r(g,E),ee&&nr(g,C),_;if(E===null){for(;!P.done;C++,P=v.next())P=f(g,P.value,k),P!==null&&(p=i(P,p,C),x===null?_=P:x.sibling=P,x=P);return ee&&nr(g,C),_}for(E=n(g,E);!P.done;C++,P=v.next())P=m(E,g,C,P.value,k),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?C:P.key),p=i(P,p,C),x===null?_=P:x.sibling=P,x=P);return t&&E.forEach(function(ie){return e(g,ie)}),ee&&nr(g,C),_}function b(g,p,v,k){if(typeof v=="object"&&v!==null&&v.type===Rr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case vs:e:{for(var _=v.key,x=p;x!==null;){if(x.key===_){if(_=v.type,_===Rr){if(x.tag===7){r(g,x.sibling),p=s(x,v.props.children),p.return=g,g=p;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&Yu(_)===x.type){r(g,x.sibling),p=s(x,v.props),p.ref=_n(g,x,v),p.return=g,g=p;break e}r(g,x);break}else e(g,x);x=x.sibling}v.type===Rr?(p=mr(v.props.children,g.mode,k,v.key),p.return=g,g=p):(k=ri(v.type,v.key,v.props,null,g.mode,k),k.ref=_n(g,p,v),k.return=g,g=k)}return o(g);case Pr:e:{for(x=v.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=Mo(v,g.mode,k),p.return=g,g=p}return o(g);case Rt:return x=v._init,b(g,p,x(v._payload),k)}if(Sn(v))return y(g,p,v,k);if(mn(v))return w(g,p,v,k);Ns(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,v),p.return=g,g=p):(r(g,p),p=Uo(v,g.mode,k),p.return=g,g=p),o(g)):r(g,p)}return b}var en=ff(!0),hf=ff(!1),_i=Yt(null),ki=null,Br=null,Cl=null;function Ol(){Cl=Br=ki=null}function Pl(t){var e=_i.current;Y(_i),t._currentValue=e}function xa(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Kr(t,e){ki=t,Cl=Br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ue=!0),t.firstContext=null)}function et(t){var e=t._currentValue;if(Cl!==t)if(t={context:t,memoizedValue:e,next:null},Br===null){if(ki===null)throw Error(j(308));Br=t,ki.dependencies={lanes:0,firstContext:t}}else Br=Br.next=t;return e}var dr=null;function Rl(t){dr===null?dr=[t]:dr.push(t)}function pf(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Rl(e)):(r.next=s.next,s.next=r),e.interleaved=r,Tt(t,n)}function Tt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var At=!1;function Al(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function St(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Tt(t,r)}return s=n.interleaved,s===null?(e.next=e,Rl(n)):(e.next=s.next,s.next=e),n.interleaved=e,Tt(t,r)}function Qs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yl(t,r)}}function Xu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function xi(t,e,r,n){var s=t.updateQueue;At=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(h=e,m=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=se({},f,h);break e;case 2:At=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);wr|=o,t.lanes=o,t.memoizedState=f}}function Zu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var fs={},yt=Yt(fs),Zn=Yt(fs),es=Yt(fs);function fr(t){if(t===fs)throw Error(j(174));return t}function Il(t,e){switch(J(es,e),J(Zn,t),J(yt,fs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ra(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ra(e,t)}Y(yt),J(yt,e)}function tn(){Y(yt),Y(Zn),Y(es)}function gf(t){fr(es.current);var e=fr(yt.current),r=ra(e,t.type);e!==r&&(J(Zn,t),J(yt,r))}function $l(t){Zn.current===t&&(Y(yt),Y(Zn))}var re=Yt(0);function bi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ro=[];function Ll(){for(var t=0;t<Ro.length;t++)Ro[t]._workInProgressVersionPrimary=null;Ro.length=0}var Ys=Ct.ReactCurrentDispatcher,Ao=Ct.ReactCurrentBatchConfig,yr=0,ne=null,he=null,me=null,Si=!1,Ln=!1,ts=0,Um=0;function Se(){throw Error(j(321))}function Dl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!dt(t[r],e[r]))return!1;return!0}function Ul(t,e,r,n,s,i){if(yr=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ys.current=t===null||t.memoizedState===null?zm:Wm,t=r(n,s),Ln){i=0;do{if(Ln=!1,ts=0,25<=i)throw Error(j(301));i+=1,me=he=null,e.updateQueue=null,Ys.current=Vm,t=r(n,s)}while(Ln)}if(Ys.current=Ei,e=he!==null&&he.next!==null,yr=0,me=he=ne=null,Si=!1,e)throw Error(j(300));return t}function Ml(){var t=ts!==0;return ts=0,t}function pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ne.memoizedState=me=t:me=me.next=t,me}function tt(){if(he===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=me===null?ne.memoizedState:me.next;if(e!==null)me=e,he=t;else{if(t===null)throw Error(j(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},me===null?ne.memoizedState=me=t:me=me.next=t}return me}function rs(t,e){return typeof e=="function"?e(t):e}function Io(t){var e=tt(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=he,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((yr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,ne.lanes|=d,wr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,dt(n,e.memoizedState)||(Ue=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ne.lanes|=i,wr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $o(t){var e=tt(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);dt(i,e.memoizedState)||(Ue=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function vf(){}function yf(t,e){var r=ne,n=tt(),s=e(),i=!dt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ue=!0),n=n.queue,Bl(kf.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||me!==null&&me.memoizedState.tag&1){if(r.flags|=2048,ns(9,_f.bind(null,r,n,s,e),void 0,null),ge===null)throw Error(j(349));yr&30||wf(r,e,s)}return s}function wf(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function _f(t,e,r,n){e.value=r,e.getSnapshot=n,xf(e)&&bf(t)}function kf(t,e,r){return r(function(){xf(e)&&bf(t)})}function xf(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!dt(t,r)}catch{return!0}}function bf(t){var e=Tt(t,1);e!==null&&ct(e,t,1,-1)}function ec(t){var e=pt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},e.queue=t,t=t.dispatch=Fm.bind(null,ne,t),[e.memoizedState,t]}function ns(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Sf(){return tt().memoizedState}function Xs(t,e,r,n){var s=pt();ne.flags|=t,s.memoizedState=ns(1|e,r,void 0,n===void 0?null:n)}function Qi(t,e,r,n){var s=tt();n=n===void 0?null:n;var i=void 0;if(he!==null){var o=he.memoizedState;if(i=o.destroy,n!==null&&Dl(n,o.deps)){s.memoizedState=ns(e,r,i,n);return}}ne.flags|=t,s.memoizedState=ns(1|e,r,i,n)}function tc(t,e){return Xs(8390656,8,t,e)}function Bl(t,e){return Qi(2048,8,t,e)}function Ef(t,e){return Qi(4,2,t,e)}function jf(t,e){return Qi(4,4,t,e)}function Tf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nf(t,e,r){return r=r!=null?r.concat([t]):null,Qi(4,4,Tf.bind(null,e,t),r)}function Fl(){}function Cf(t,e){var r=tt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Dl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Of(t,e){var r=tt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Dl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Pf(t,e,r){return yr&21?(dt(r,e)||(r=$d(),ne.lanes|=r,wr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ue=!0),t.memoizedState=r)}function Mm(t,e){var r=q;q=r!==0&&4>r?r:4,t(!0);var n=Ao.transition;Ao.transition={};try{t(!1),e()}finally{q=r,Ao.transition=n}}function Rf(){return tt().memoizedState}function Bm(t,e,r){var n=qt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Af(t))If(e,r);else if(r=pf(t,e,r,n),r!==null){var s=Re();ct(r,t,n,s),$f(r,e,n)}}function Fm(t,e,r){var n=qt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Af(t))If(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,dt(a,o)){var l=e.interleaved;l===null?(s.next=s,Rl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=pf(t,e,s,n),r!==null&&(s=Re(),ct(r,t,n,s),$f(r,e,n))}}function Af(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function If(t,e){Ln=Si=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function $f(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yl(t,r)}}var Ei={readContext:et,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},zm={readContext:et,useCallback:function(t,e){return pt().memoizedState=[t,e===void 0?null:e],t},useContext:et,useEffect:tc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Xs(4194308,4,Tf.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Xs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xs(4,2,t,e)},useMemo:function(t,e){var r=pt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=pt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Bm.bind(null,ne,t),[n.memoizedState,t]},useRef:function(t){var e=pt();return t={current:t},e.memoizedState=t},useState:ec,useDebugValue:Fl,useDeferredValue:function(t){return pt().memoizedState=t},useTransition:function(){var t=ec(!1),e=t[0];return t=Mm.bind(null,t[1]),pt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ne,s=pt();if(ee){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),ge===null)throw Error(j(349));yr&30||wf(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,tc(kf.bind(null,n,i,t),[t]),n.flags|=2048,ns(9,_f.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=pt(),e=ge.identifierPrefix;if(ee){var r=bt,n=xt;r=(n&~(1<<32-ut(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ts++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Um++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wm={readContext:et,useCallback:Cf,useContext:et,useEffect:Bl,useImperativeHandle:Nf,useInsertionEffect:Ef,useLayoutEffect:jf,useMemo:Of,useReducer:Io,useRef:Sf,useState:function(){return Io(rs)},useDebugValue:Fl,useDeferredValue:function(t){var e=tt();return Pf(e,he.memoizedState,t)},useTransition:function(){var t=Io(rs)[0],e=tt().memoizedState;return[t,e]},useMutableSource:vf,useSyncExternalStore:yf,useId:Rf,unstable_isNewReconciler:!1},Vm={readContext:et,useCallback:Cf,useContext:et,useEffect:Bl,useImperativeHandle:Nf,useInsertionEffect:Ef,useLayoutEffect:jf,useMemo:Of,useReducer:$o,useRef:Sf,useState:function(){return $o(rs)},useDebugValue:Fl,useDeferredValue:function(t){var e=tt();return he===null?e.memoizedState=t:Pf(e,he.memoizedState,t)},useTransition:function(){var t=$o(rs)[0],e=tt().memoizedState;return[t,e]},useMutableSource:vf,useSyncExternalStore:yf,useId:Rf,unstable_isNewReconciler:!1};function st(t,e){if(t&&t.defaultProps){e=se({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ba(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:se({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Yi={isMounted:function(t){return(t=t._reactInternals)?xr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Re(),s=qt(t),i=St(n,s);i.payload=e,r!=null&&(i.callback=r),e=Vt(t,i,s),e!==null&&(ct(e,t,s,n),Qs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Re(),s=qt(t),i=St(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Vt(t,i,s),e!==null&&(ct(e,t,s,n),Qs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Re(),n=qt(t),s=St(r,n);s.tag=2,e!=null&&(s.callback=e),e=Vt(t,s,n),e!==null&&(ct(e,t,n,r),Qs(e,t,n))}};function rc(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Jn(r,n)||!Jn(s,i):!0}function Lf(t,e,r){var n=!1,s=Jt,i=e.contextType;return typeof i=="object"&&i!==null?i=et(i):(s=Be(e)?gr:Ce.current,n=e.contextTypes,i=(n=n!=null)?Xr(t,s):Jt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function nc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Yi.enqueueReplaceState(e,e.state,null)}function Sa(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Al(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=et(i):(i=Be(e)?gr:Ce.current,s.context=Xr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ba(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yi.enqueueReplaceState(s,s.state,null),xi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function rn(t,e){try{var r="",n=e;do r+=y0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Lo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ea(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Hm=typeof WeakMap=="function"?WeakMap:Map;function Df(t,e,r){r=St(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ti||(Ti=!0,$a=n),Ea(t,e)},r}function Uf(t,e,r){r=St(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ea(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ea(t,e),typeof n!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function sc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Hm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=ig.bind(null,t,e,r),e.then(t,t))}function ic(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=St(-1,1),e.tag=2,Vt(r,e,1))),r.lanes|=1),t)}var qm=Ct.ReactCurrentOwner,Ue=!1;function Pe(t,e,r,n){e.child=t===null?hf(e,null,r,n):en(e,t.child,r,n)}function ac(t,e,r,n,s){r=r.render;var i=e.ref;return Kr(e,s),n=Ul(t,e,r,n,i,s),r=Ml(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nt(t,e,s)):(ee&&r&&jl(e),e.flags|=1,Pe(t,e,n,s),e.child)}function lc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Jl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Mf(t,e,i,n,s)):(t=ri(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Jn,r(o,n)&&t.ref===e.ref)return Nt(t,e,s)}return e.flags|=1,t=Kt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Mf(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Jn(i,n)&&t.ref===e.ref)if(Ue=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ue=!0);else return e.lanes=t.lanes,Nt(t,e,s)}return ja(t,e,r,n,s)}function Bf(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(zr,We),We|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,J(zr,We),We|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,J(zr,We),We|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,J(zr,We),We|=n;return Pe(t,e,s,r),e.child}function Ff(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ja(t,e,r,n,s){var i=Be(r)?gr:Ce.current;return i=Xr(e,i),Kr(e,s),r=Ul(t,e,r,n,i,s),n=Ml(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nt(t,e,s)):(ee&&n&&jl(e),e.flags|=1,Pe(t,e,r,s),e.child)}function uc(t,e,r,n,s){if(Be(r)){var i=!0;vi(e)}else i=!1;if(Kr(e,s),e.stateNode===null)Zs(t,e),Lf(e,r,n),Sa(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=et(c):(c=Be(r)?gr:Ce.current,c=Xr(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&nc(e,o,n,c),At=!1;var h=e.memoizedState;o.state=h,xi(e,n,o,s),l=e.memoizedState,a!==n||h!==l||Me.current||At?(typeof d=="function"&&(ba(e,r,d,n),l=e.memoizedState),(a=At||rc(e,r,a,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,mf(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:st(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=et(l):(l=Be(r)?gr:Ce.current,l=Xr(e,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&nc(e,o,n,l),At=!1,h=e.memoizedState,o.state=h,xi(e,n,o,s);var y=e.memoizedState;a!==f||h!==y||Me.current||At?(typeof m=="function"&&(ba(e,r,m,n),y=e.memoizedState),(c=At||rc(e,r,c,n,h,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Ta(t,e,r,n,i,s)}function Ta(t,e,r,n,s,i){Ff(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Gu(e,r,!1),Nt(t,e,i);n=e.stateNode,qm.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=en(e,t.child,null,i),e.child=en(e,null,a,i)):Pe(t,e,a,i),e.memoizedState=n.state,s&&Gu(e,r,!0),e.child}function zf(t){var e=t.stateNode;e.pendingContext?Ku(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ku(t,e.context,!1),Il(t,e.containerInfo)}function cc(t,e,r,n,s){return Zr(),Nl(s),e.flags|=256,Pe(t,e,r,n),e.child}var Na={dehydrated:null,treeContext:null,retryLane:0};function Ca(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wf(t,e,r){var n=e.pendingProps,s=re.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),J(re,s&1),t===null)return ka(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=eo(o,n,0,null),t=mr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ca(r),e.memoizedState=Na,t):zl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Km(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Kt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Kt(a,i):(i=mr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Ca(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Na,n}return i=t.child,t=i.sibling,n=Kt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function zl(t,e){return e=eo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cs(t,e,r,n){return n!==null&&Nl(n),en(e,t.child,null,r),t=zl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Km(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Lo(Error(j(422))),Cs(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=eo({mode:"visible",children:n.children},s,0,null),i=mr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&en(e,t.child,null,o),e.child.memoizedState=Ca(o),e.memoizedState=Na,i);if(!(e.mode&1))return Cs(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(j(419)),n=Lo(i,n,void 0),Cs(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ue||a){if(n=ge,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Tt(t,s),ct(n,t,s,-1))}return Gl(),n=Lo(Error(j(421))),Cs(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=og.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,He=Wt(s.nextSibling),qe=e,ee=!0,lt=null,t!==null&&(Qe[Ye++]=xt,Qe[Ye++]=bt,Qe[Ye++]=vr,xt=t.id,bt=t.overflow,vr=e),e=zl(e,n.children),e.flags|=4096,e)}function dc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),xa(t.return,e,r)}function Do(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Vf(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Pe(t,e,n.children,r),n=re.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dc(t,r,e);else if(t.tag===19)dc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(J(re,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&bi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Do(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&bi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Do(e,!0,r,null,i);break;case"together":Do(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),wr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=Kt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Kt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Gm(t,e,r){switch(e.tag){case 3:zf(e),Zr();break;case 5:gf(e);break;case 1:Be(e.type)&&vi(e);break;case 4:Il(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;J(_i,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(J(re,re.current&1),e.flags|=128,null):r&e.child.childLanes?Wf(t,e,r):(J(re,re.current&1),t=Nt(t,e,r),t!==null?t.sibling:null);J(re,re.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Vf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(re,re.current),n)break;return null;case 22:case 23:return e.lanes=0,Bf(t,e,r)}return Nt(t,e,r)}var Hf,Oa,qf,Kf;Hf=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Oa=function(){};qf=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,fr(yt.current);var i=null;switch(r){case"input":s=Xo(t,s),n=Xo(t,n),i=[];break;case"select":s=se({},s,{value:void 0}),n=se({},n,{value:void 0}),i=[];break;case"textarea":s=ta(t,s),n=ta(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=mi)}na(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zn.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Q("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Kf=function(t,e,r,n){r!==n&&(e.flags|=4)};function kn(t,e){if(!ee)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ee(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Jm(t,e,r){var n=e.pendingProps;switch(Tl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(e),null;case 1:return Be(e.type)&&gi(),Ee(e),null;case 3:return n=e.stateNode,tn(),Y(Me),Y(Ce),Ll(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ts(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lt!==null&&(Ua(lt),lt=null))),Oa(t,e),Ee(e),null;case 5:$l(e);var s=fr(es.current);if(r=e.type,t!==null&&e.stateNode!=null)qf(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return Ee(e),null}if(t=fr(yt.current),Ts(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[gt]=e,n[Xn]=i,t=(e.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<jn.length;s++)Q(jn[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":_u(n,i),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Q("invalid",n);break;case"textarea":xu(n,i),Q("invalid",n)}na(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&js(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&js(n.textContent,a,t),s=["children",""+a]):zn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Q("scroll",n)}switch(r){case"input":ys(n),ku(n,i,!0);break;case"textarea":ys(n),bu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_d(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[gt]=e,t[Xn]=n,Hf(t,e,!1,!1),e.stateNode=t;e:{switch(o=sa(r,n),r){case"dialog":Q("cancel",t),Q("close",t),s=n;break;case"iframe":case"object":case"embed":Q("load",t),s=n;break;case"video":case"audio":for(s=0;s<jn.length;s++)Q(jn[s],t);s=n;break;case"source":Q("error",t),s=n;break;case"img":case"image":case"link":Q("error",t),Q("load",t),s=n;break;case"details":Q("toggle",t),s=n;break;case"input":_u(t,n),s=Xo(t,n),Q("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=se({},n,{value:void 0}),Q("invalid",t);break;case"textarea":xu(t,n),s=ta(t,n),Q("invalid",t);break;default:s=n}na(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?bd(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kd(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Wn(t,l):typeof l=="number"&&Wn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Q("scroll",t):l!=null&&fl(t,i,l,o))}switch(r){case"input":ys(t),ku(t,n,!1);break;case"textarea":ys(t),bu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Wr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Wr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=mi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ee(e),null;case 6:if(t&&e.stateNode!=null)Kf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=fr(es.current),fr(yt.current),Ts(e)){if(n=e.stateNode,r=e.memoizedProps,n[gt]=e,(i=n.nodeValue!==r)&&(t=qe,t!==null))switch(t.tag){case 3:js(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&js(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gt]=e,e.stateNode=n}return Ee(e),null;case 13:if(Y(re),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ee&&He!==null&&e.mode&1&&!(e.flags&128))df(),Zr(),e.flags|=98560,i=!1;else if(i=Ts(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[gt]=e}else Zr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ee(e),i=!1}else lt!==null&&(Ua(lt),lt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?pe===0&&(pe=3):Gl())),e.updateQueue!==null&&(e.flags|=4),Ee(e),null);case 4:return tn(),Oa(t,e),t===null&&Qn(e.stateNode.containerInfo),Ee(e),null;case 10:return Pl(e.type._context),Ee(e),null;case 17:return Be(e.type)&&gi(),Ee(e),null;case 19:if(Y(re),i=e.memoizedState,i===null)return Ee(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)kn(i,!1);else{if(pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bi(t),o!==null){for(e.flags|=128,kn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return J(re,re.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>nn&&(e.flags|=128,n=!0,kn(i,!1),e.lanes=4194304)}else{if(!n)if(t=bi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),kn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ee)return Ee(e),null}else 2*ae()-i.renderingStartTime>nn&&r!==1073741824&&(e.flags|=128,n=!0,kn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,r=re.current,J(re,n?r&1|2:r&1),e):(Ee(e),null);case 22:case 23:return Kl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?We&1073741824&&(Ee(e),e.subtreeFlags&6&&(e.flags|=8192)):Ee(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function Qm(t,e){switch(Tl(e),e.tag){case 1:return Be(e.type)&&gi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tn(),Y(Me),Y(Ce),Ll(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $l(e),null;case 13:if(Y(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Zr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(re),null;case 4:return tn(),null;case 10:return Pl(e.type._context),null;case 22:case 23:return Kl(),null;case 24:return null;default:return null}}var Os=!1,je=!1,Ym=typeof WeakSet=="function"?WeakSet:Set,R=null;function Fr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(t,e,n)}else r.current=null}function Pa(t,e,r){try{r()}catch(n){oe(t,e,n)}}var fc=!1;function Xm(t,e){if(pa=fi,t=Yd(),El(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++c===s&&(a=o),h===i&&++d===n&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ma={focusedElem:t,selectionRange:r},fi=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:st(e.type,w),b);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(k){oe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return y=fc,fc=!1,y}function Dn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pa(e,r,i)}s=s.next}while(s!==n)}}function Xi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ra(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Gf(t){var e=t.alternate;e!==null&&(t.alternate=null,Gf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gt],delete e[Xn],delete e[ya],delete e[Im],delete e[$m])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jf(t){return t.tag===5||t.tag===3||t.tag===4}function hc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Aa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=mi));else if(n!==4&&(t=t.child,t!==null))for(Aa(t,e,r),t=t.sibling;t!==null;)Aa(t,e,r),t=t.sibling}function Ia(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ia(t,e,r),t=t.sibling;t!==null;)Ia(t,e,r),t=t.sibling}var _e=null,ot=!1;function Pt(t,e,r){for(r=r.child;r!==null;)Qf(t,e,r),r=r.sibling}function Qf(t,e,r){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Vi,r)}catch{}switch(r.tag){case 5:je||Fr(r,e);case 6:var n=_e,s=ot;_e=null,Pt(t,e,r),_e=n,ot=s,_e!==null&&(ot?(t=_e,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(ot?(t=_e,r=r.stateNode,t.nodeType===8?Oo(t.parentNode,r):t.nodeType===1&&Oo(t,r),Kn(t)):Oo(_e,r.stateNode));break;case 4:n=_e,s=ot,_e=r.stateNode.containerInfo,ot=!0,Pt(t,e,r),_e=n,ot=s;break;case 0:case 11:case 14:case 15:if(!je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Pa(r,e,o),s=s.next}while(s!==n)}Pt(t,e,r);break;case 1:if(!je&&(Fr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){oe(r,e,a)}Pt(t,e,r);break;case 21:Pt(t,e,r);break;case 22:r.mode&1?(je=(n=je)||r.memoizedState!==null,Pt(t,e,r),je=n):Pt(t,e,r);break;default:Pt(t,e,r)}}function pc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Ym),e.forEach(function(n){var s=ag.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function rt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_e=a.stateNode,ot=!1;break e;case 3:_e=a.stateNode.containerInfo,ot=!0;break e;case 4:_e=a.stateNode.containerInfo,ot=!0;break e}a=a.return}if(_e===null)throw Error(j(160));Qf(i,o,s),_e=null,ot=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){oe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yf(e,t),e=e.sibling}function Yf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rt(e,t),ht(t),n&4){try{Dn(3,t,t.return),Xi(3,t)}catch(w){oe(t,t.return,w)}try{Dn(5,t,t.return)}catch(w){oe(t,t.return,w)}}break;case 1:rt(e,t),ht(t),n&512&&r!==null&&Fr(r,r.return);break;case 5:if(rt(e,t),ht(t),n&512&&r!==null&&Fr(r,r.return),t.flags&32){var s=t.stateNode;try{Wn(s,"")}catch(w){oe(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&yd(s,i),sa(a,o);var c=sa(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?bd(s,f):d==="dangerouslySetInnerHTML"?kd(s,f):d==="children"?Wn(s,f):fl(s,d,f,c)}switch(a){case"input":Zo(s,i);break;case"textarea":wd(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Wr(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Wr(s,!!i.multiple,i.defaultValue,!0):Wr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xn]=i}catch(w){oe(t,t.return,w)}}break;case 6:if(rt(e,t),ht(t),n&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){oe(t,t.return,w)}}break;case 3:if(rt(e,t),ht(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kn(e.containerInfo)}catch(w){oe(t,t.return,w)}break;case 4:rt(e,t),ht(t);break;case 13:rt(e,t),ht(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hl=ae())),n&4&&pc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(je=(c=je)||d,rt(e,t),je=c):rt(e,t),ht(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(R=t,d=t.child;d!==null;){for(f=R=d;R!==null;){switch(h=R,m=h.child,h.tag){case 0:case 11:case 14:case 15:Dn(4,h,h.return);break;case 1:Fr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){oe(n,r,w)}}break;case 5:Fr(h,h.return);break;case 22:if(h.memoizedState!==null){gc(f);continue}}m!==null?(m.return=h,R=m):gc(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xd("display",o))}catch(w){oe(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){oe(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rt(e,t),ht(t),n&4&&pc(t);break;case 21:break;default:rt(e,t),ht(t)}}function ht(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Jf(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Wn(s,""),n.flags&=-33);var i=hc(t);Ia(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=hc(t);Aa(t,a,o);break;default:throw Error(j(161))}}catch(l){oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zm(t,e,r){R=t,Xf(t)}function Xf(t,e,r){for(var n=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Os;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||je;a=Os;var c=je;if(Os=o,(je=l)&&!c)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?vc(s):l!==null?(l.return=o,R=l):vc(s);for(;i!==null;)R=i,Xf(i),i=i.sibling;R=s,Os=a,je=c}mc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):mc(t)}}function mc(t){for(;R!==null;){var e=R;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:je||Xi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!je)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:st(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Zu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Kn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}je||e.flags&512&&Ra(e)}catch(h){oe(e,e.return,h)}}if(e===t){R=null;break}if(r=e.sibling,r!==null){r.return=e.return,R=r;break}R=e.return}}function gc(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var r=e.sibling;if(r!==null){r.return=e.return,R=r;break}R=e.return}}function vc(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Xi(4,e)}catch(l){oe(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){oe(e,s,l)}}var i=e.return;try{Ra(e)}catch(l){oe(e,i,l)}break;case 5:var o=e.return;try{Ra(e)}catch(l){oe(e,o,l)}}}catch(l){oe(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var eg=Math.ceil,ji=Ct.ReactCurrentDispatcher,Wl=Ct.ReactCurrentOwner,Ze=Ct.ReactCurrentBatchConfig,W=0,ge=null,ce=null,ke=0,We=0,zr=Yt(0),pe=0,ss=null,wr=0,Zi=0,Vl=0,Un=null,Le=null,Hl=0,nn=1/0,_t=null,Ti=!1,$a=null,Ht=null,Ps=!1,Mt=null,Ni=0,Mn=0,La=null,ei=-1,ti=0;function Re(){return W&6?ae():ei!==-1?ei:ei=ae()}function qt(t){return t.mode&1?W&2&&ke!==0?ke&-ke:Dm.transition!==null?(ti===0&&(ti=$d()),ti):(t=q,t!==0||(t=window.event,t=t===void 0?16:zd(t.type)),t):1}function ct(t,e,r,n){if(50<Mn)throw Mn=0,La=null,Error(j(185));us(t,r,n),(!(W&2)||t!==ge)&&(t===ge&&(!(W&2)&&(Zi|=r),pe===4&&$t(t,ke)),Fe(t,n),r===1&&W===0&&!(e.mode&1)&&(nn=ae()+500,Ji&&Xt()))}function Fe(t,e){var r=t.callbackNode;D0(t,e);var n=di(t,t===ge?ke:0);if(n===0)r!==null&&ju(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ju(r),e===1)t.tag===0?Lm(yc.bind(null,t)):lf(yc.bind(null,t)),Rm(function(){!(W&6)&&Xt()}),r=null;else{switch(Ld(n)){case 1:r=vl;break;case 4:r=Ad;break;case 16:r=ci;break;case 536870912:r=Id;break;default:r=ci}r=oh(r,Zf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Zf(t,e){if(ei=-1,ti=0,W&6)throw Error(j(327));var r=t.callbackNode;if(Gr()&&t.callbackNode!==r)return null;var n=di(t,t===ge?ke:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ci(t,n);else{e=n;var s=W;W|=2;var i=th();(ge!==t||ke!==e)&&(_t=null,nn=ae()+500,pr(t,e));do try{ng();break}catch(a){eh(t,a)}while(!0);Ol(),ji.current=i,W=s,ce!==null?e=0:(ge=null,ke=0,e=pe)}if(e!==0){if(e===2&&(s=ua(t),s!==0&&(n=s,e=Da(t,s))),e===1)throw r=ss,pr(t,0),$t(t,n),Fe(t,ae()),r;if(e===6)$t(t,n);else{if(s=t.current.alternate,!(n&30)&&!tg(s)&&(e=Ci(t,n),e===2&&(i=ua(t),i!==0&&(n=i,e=Da(t,i))),e===1))throw r=ss,pr(t,0),$t(t,n),Fe(t,ae()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:sr(t,Le,_t);break;case 3:if($t(t,n),(n&130023424)===n&&(e=Hl+500-ae(),10<e)){if(di(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Re(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=va(sr.bind(null,t,Le,_t),e);break}sr(t,Le,_t);break;case 4:if($t(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-ut(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eg(n/1960))-n,10<n){t.timeoutHandle=va(sr.bind(null,t,Le,_t),n);break}sr(t,Le,_t);break;case 5:sr(t,Le,_t);break;default:throw Error(j(329))}}}return Fe(t,ae()),t.callbackNode===r?Zf.bind(null,t):null}function Da(t,e){var r=Un;return t.current.memoizedState.isDehydrated&&(pr(t,e).flags|=256),t=Ci(t,e),t!==2&&(e=Le,Le=r,e!==null&&Ua(e)),t}function Ua(t){Le===null?Le=t:Le.push.apply(Le,t)}function tg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!dt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $t(t,e){for(e&=~Vl,e&=~Zi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ut(e),n=1<<r;t[r]=-1,e&=~n}}function yc(t){if(W&6)throw Error(j(327));Gr();var e=di(t,0);if(!(e&1))return Fe(t,ae()),null;var r=Ci(t,e);if(t.tag!==0&&r===2){var n=ua(t);n!==0&&(e=n,r=Da(t,n))}if(r===1)throw r=ss,pr(t,0),$t(t,e),Fe(t,ae()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sr(t,Le,_t),Fe(t,ae()),null}function ql(t,e){var r=W;W|=1;try{return t(e)}finally{W=r,W===0&&(nn=ae()+500,Ji&&Xt())}}function _r(t){Mt!==null&&Mt.tag===0&&!(W&6)&&Gr();var e=W;W|=1;var r=Ze.transition,n=q;try{if(Ze.transition=null,q=1,t)return t()}finally{q=n,Ze.transition=r,W=e,!(W&6)&&Xt()}}function Kl(){We=zr.current,Y(zr)}function pr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Pm(r)),ce!==null)for(r=ce.return;r!==null;){var n=r;switch(Tl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gi();break;case 3:tn(),Y(Me),Y(Ce),Ll();break;case 5:$l(n);break;case 4:tn();break;case 13:Y(re);break;case 19:Y(re);break;case 10:Pl(n.type._context);break;case 22:case 23:Kl()}r=r.return}if(ge=t,ce=t=Kt(t.current,null),ke=We=e,pe=0,ss=null,Vl=Zi=wr=0,Le=Un=null,dr!==null){for(e=0;e<dr.length;e++)if(r=dr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}dr=null}return t}function eh(t,e){do{var r=ce;try{if(Ol(),Ys.current=Ei,Si){for(var n=ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Si=!1}if(yr=0,me=he=ne=null,Ln=!1,ts=0,Wl.current=null,r===null||r.return===null){pe=1,ss=e,ce=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ic(o);if(m!==null){m.flags&=-257,oc(m,o,a,i,e),m.mode&1&&sc(i,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){sc(i,c,e),Gl();break e}l=Error(j(426))}}else if(ee&&a.mode&1){var b=ic(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),oc(b,o,a,i,e),Nl(rn(l,a));break e}}i=l=rn(l,a),pe!==4&&(pe=2),Un===null?Un=[i]:Un.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Df(i,l,e);Xu(i,g);break e;case 1:a=l;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ht===null||!Ht.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=Uf(i,a,e);Xu(i,k);break e}}i=i.return}while(i!==null)}nh(r)}catch(_){e=_,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(!0)}function th(){var t=ji.current;return ji.current=Ei,t===null?Ei:t}function Gl(){(pe===0||pe===3||pe===2)&&(pe=4),ge===null||!(wr&268435455)&&!(Zi&268435455)||$t(ge,ke)}function Ci(t,e){var r=W;W|=2;var n=th();(ge!==t||ke!==e)&&(_t=null,pr(t,e));do try{rg();break}catch(s){eh(t,s)}while(!0);if(Ol(),W=r,ji.current=n,ce!==null)throw Error(j(261));return ge=null,ke=0,pe}function rg(){for(;ce!==null;)rh(ce)}function ng(){for(;ce!==null&&!N0();)rh(ce)}function rh(t){var e=ih(t.alternate,t,We);t.memoizedProps=t.pendingProps,e===null?nh(t):ce=e,Wl.current=null}function nh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Qm(r,e),r!==null){r.flags&=32767,ce=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pe=6,ce=null;return}}else if(r=Jm(r,e,We),r!==null){ce=r;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);pe===0&&(pe=5)}function sr(t,e,r){var n=q,s=Ze.transition;try{Ze.transition=null,q=1,sg(t,e,r,n)}finally{Ze.transition=s,q=n}return null}function sg(t,e,r,n){do Gr();while(Mt!==null);if(W&6)throw Error(j(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(U0(t,i),t===ge&&(ce=ge=null,ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ps||(Ps=!0,oh(ci,function(){return Gr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ze.transition,Ze.transition=null;var o=q;q=1;var a=W;W|=4,Wl.current=null,Xm(t,r),Yf(r,t),Sm(ma),fi=!!pa,ma=pa=null,t.current=r,Zm(r),C0(),W=a,q=o,Ze.transition=i}else t.current=r;if(Ps&&(Ps=!1,Mt=t,Ni=s),i=t.pendingLanes,i===0&&(Ht=null),R0(r.stateNode),Fe(t,ae()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ti)throw Ti=!1,t=$a,$a=null,t;return Ni&1&&t.tag!==0&&Gr(),i=t.pendingLanes,i&1?t===La?Mn++:(Mn=0,La=t):Mn=0,Xt(),null}function Gr(){if(Mt!==null){var t=Ld(Ni),e=Ze.transition,r=q;try{if(Ze.transition=null,q=16>t?16:t,Mt===null)var n=!1;else{if(t=Mt,Mt=null,Ni=0,W&6)throw Error(j(331));var s=W;for(W|=4,R=t.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(R=c;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Dn(8,d,i)}var f=d.child;if(f!==null)f.return=d,R=f;else for(;R!==null;){d=R;var h=d.sibling,m=d.return;if(Gf(d),d===c){R=null;break}if(h!==null){h.return=m,R=h;break}R=m}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var p=t.current;for(R=p;R!==null;){o=R;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,R=v;else e:for(o=p;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xi(9,a)}}catch(_){oe(a,a.return,_)}if(a===o){R=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,R=k;break e}R=a.return}}if(W=s,Xt(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Vi,t)}catch{}n=!0}return n}finally{q=r,Ze.transition=e}}return!1}function wc(t,e,r){e=rn(r,e),e=Df(t,e,1),t=Vt(t,e,1),e=Re(),t!==null&&(us(t,1,e),Fe(t,e))}function oe(t,e,r){if(t.tag===3)wc(t,t,r);else for(;e!==null;){if(e.tag===3){wc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ht===null||!Ht.has(n))){t=rn(r,t),t=Uf(e,t,1),e=Vt(e,t,1),t=Re(),e!==null&&(us(e,1,t),Fe(e,t));break}}e=e.return}}function ig(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Re(),t.pingedLanes|=t.suspendedLanes&r,ge===t&&(ke&r)===r&&(pe===4||pe===3&&(ke&130023424)===ke&&500>ae()-Hl?pr(t,0):Vl|=r),Fe(t,e)}function sh(t,e){e===0&&(t.mode&1?(e=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):e=1);var r=Re();t=Tt(t,e),t!==null&&(us(t,e,r),Fe(t,r))}function og(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),sh(t,r)}function ag(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),sh(t,r)}var ih;ih=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Me.current)Ue=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ue=!1,Gm(t,e,r);Ue=!!(t.flags&131072)}else Ue=!1,ee&&e.flags&1048576&&uf(e,wi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Zs(t,e),t=e.pendingProps;var s=Xr(e,Ce.current);Kr(e,r),s=Ul(null,e,n,t,s,r);var i=Ml();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(n)?(i=!0,vi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Al(e),s.updater=Yi,e.stateNode=s,s._reactInternals=e,Sa(e,n,t,r),e=Ta(null,e,n,!0,i,r)):(e.tag=0,ee&&i&&jl(e),Pe(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Zs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=ug(n),t=st(n,t),s){case 0:e=ja(null,e,n,t,r);break e;case 1:e=uc(null,e,n,t,r);break e;case 11:e=ac(null,e,n,t,r);break e;case 14:e=lc(null,e,n,st(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:st(n,s),ja(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:st(n,s),uc(t,e,n,s,r);case 3:e:{if(zf(e),t===null)throw Error(j(387));n=e.pendingProps,i=e.memoizedState,s=i.element,mf(t,e),xi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=rn(Error(j(423)),e),e=cc(t,e,n,r,s);break e}else if(n!==s){s=rn(Error(j(424)),e),e=cc(t,e,n,r,s);break e}else for(He=Wt(e.stateNode.containerInfo.firstChild),qe=e,ee=!0,lt=null,r=hf(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zr(),n===s){e=Nt(t,e,r);break e}Pe(t,e,n,r)}e=e.child}return e;case 5:return gf(e),t===null&&ka(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ga(n,s)?o=null:i!==null&&ga(n,i)&&(e.flags|=32),Ff(t,e),Pe(t,e,o,r),e.child;case 6:return t===null&&ka(e),null;case 13:return Wf(t,e,r);case 4:return Il(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=en(e,null,n,r):Pe(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:st(n,s),ac(t,e,n,s,r);case 7:return Pe(t,e,e.pendingProps,r),e.child;case 8:return Pe(t,e,e.pendingProps.children,r),e.child;case 12:return Pe(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,J(_i,n._currentValue),n._currentValue=o,i!==null)if(dt(i.value,o)){if(i.children===s.children&&!Me.current){e=Nt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=St(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),xa(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),xa(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pe(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Kr(e,r),s=et(s),n=n(s),e.flags|=1,Pe(t,e,n,r),e.child;case 14:return n=e.type,s=st(n,e.pendingProps),s=st(n.type,s),lc(t,e,n,s,r);case 15:return Mf(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:st(n,s),Zs(t,e),e.tag=1,Be(n)?(t=!0,vi(e)):t=!1,Kr(e,r),Lf(e,n,s),Sa(e,n,s,r),Ta(null,e,n,!0,t,r);case 19:return Vf(t,e,r);case 22:return Bf(t,e,r)}throw Error(j(156,e.tag))};function oh(t,e){return Rd(t,e)}function lg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(t,e,r,n){return new lg(t,e,r,n)}function Jl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ug(t){if(typeof t=="function")return Jl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pl)return 11;if(t===ml)return 14}return 2}function Kt(t,e){var r=t.alternate;return r===null?(r=Xe(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ri(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Jl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rr:return mr(r.children,s,i,e);case hl:o=8,s|=8;break;case Go:return t=Xe(12,r,e,s|2),t.elementType=Go,t.lanes=i,t;case Jo:return t=Xe(13,r,e,s),t.elementType=Jo,t.lanes=i,t;case Qo:return t=Xe(19,r,e,s),t.elementType=Qo,t.lanes=i,t;case md:return eo(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hd:o=10;break e;case pd:o=9;break e;case pl:o=11;break e;case ml:o=14;break e;case Rt:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Xe(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function mr(t,e,r,n){return t=Xe(7,t,n,e),t.lanes=r,t}function eo(t,e,r,n){return t=Xe(22,t,n,e),t.elementType=md,t.lanes=r,t.stateNode={isHidden:!1},t}function Uo(t,e,r){return t=Xe(6,t,null,e),t.lanes=r,t}function Mo(t,e,r){return e=Xe(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cg(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wo(0),this.expirationTimes=wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ql(t,e,r,n,s,i,o,a,l){return t=new cg(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Al(i),t}function dg(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ah(t){if(!t)return Jt;t=t._reactInternals;e:{if(xr(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(Be(r))return af(t,r,e)}return e}function lh(t,e,r,n,s,i,o,a,l){return t=Ql(r,n,!0,t,s,i,o,a,l),t.context=ah(null),r=t.current,n=Re(),s=qt(r),i=St(n,s),i.callback=e??null,Vt(r,i,s),t.current.lanes=s,us(t,s,n),Fe(t,n),t}function to(t,e,r,n){var s=e.current,i=Re(),o=qt(s);return r=ah(r),e.context===null?e.context=r:e.pendingContext=r,e=St(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Vt(s,e,o),t!==null&&(ct(t,s,o,i),Qs(t,s,o)),o}function Oi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _c(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Yl(t,e){_c(t,e),(t=t.alternate)&&_c(t,e)}function fg(){return null}var uh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xl(t){this._internalRoot=t}ro.prototype.render=Xl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));to(t,e,null,null)};ro.prototype.unmount=Xl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_r(function(){to(null,t,null,null)}),e[jt]=null}};function ro(t){this._internalRoot=t}ro.prototype.unstable_scheduleHydration=function(t){if(t){var e=Md();t={blockedOn:null,target:t,priority:e};for(var r=0;r<It.length&&e!==0&&e<It[r].priority;r++);It.splice(r,0,t),r===0&&Fd(t)}};function Zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function no(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kc(){}function hg(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Oi(o);i.call(c)}}var o=lh(e,n,t,0,null,!1,!1,"",kc);return t._reactRootContainer=o,t[jt]=o.current,Qn(t.nodeType===8?t.parentNode:t),_r(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Oi(l);a.call(c)}}var l=Ql(t,0,!1,null,null,!1,!1,"",kc);return t._reactRootContainer=l,t[jt]=l.current,Qn(t.nodeType===8?t.parentNode:t),_r(function(){to(e,l,r,n)}),l}function so(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Oi(o);a.call(l)}}to(e,o,t,s)}else o=hg(r,e,t,s,n);return Oi(o)}Dd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=En(e.pendingLanes);r!==0&&(yl(e,r|1),Fe(e,ae()),!(W&6)&&(nn=ae()+500,Xt()))}break;case 13:_r(function(){var n=Tt(t,1);if(n!==null){var s=Re();ct(n,t,1,s)}}),Yl(t,1)}};wl=function(t){if(t.tag===13){var e=Tt(t,134217728);if(e!==null){var r=Re();ct(e,t,134217728,r)}Yl(t,134217728)}};Ud=function(t){if(t.tag===13){var e=qt(t),r=Tt(t,e);if(r!==null){var n=Re();ct(r,t,e,n)}Yl(t,e)}};Md=function(){return q};Bd=function(t,e){var r=q;try{return q=t,e()}finally{q=r}};oa=function(t,e,r){switch(e){case"input":if(Zo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Gi(n);if(!s)throw Error(j(90));vd(n),Zo(n,s)}}}break;case"textarea":wd(t,r);break;case"select":e=r.value,e!=null&&Wr(t,!!r.multiple,e,!1)}};jd=ql;Td=_r;var pg={usingClientEntryPoint:!1,Events:[ds,Lr,Gi,Sd,Ed,ql]},xn={findFiberByHostInstance:cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mg={bundleType:xn.bundleType,version:xn.version,rendererPackageName:xn.rendererPackageName,rendererConfig:xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Od(t),t===null?null:t.stateNode},findFiberByHostInstance:xn.findFiberByHostInstance||fg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{Vi=Rs.inject(mg),vt=Rs}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pg;Ge.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zl(e))throw Error(j(200));return dg(t,e,null,r)};Ge.createRoot=function(t,e){if(!Zl(t))throw Error(j(299));var r=!1,n="",s=uh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ql(t,1,!1,null,null,r,!1,n,s),t[jt]=e.current,Qn(t.nodeType===8?t.parentNode:t),new Xl(e)};Ge.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Od(e),t=t===null?null:t.stateNode,t};Ge.flushSync=function(t){return _r(t)};Ge.hydrate=function(t,e,r){if(!no(e))throw Error(j(200));return so(null,t,e,!0,r)};Ge.hydrateRoot=function(t,e,r){if(!Zl(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=uh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=lh(e,null,t,1,r??null,s,!1,i,o),t[jt]=e.current,Qn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new ro(e)};Ge.render=function(t,e,r){if(!no(e))throw Error(j(200));return so(null,t,e,!1,r)};Ge.unmountComponentAtNode=function(t){if(!no(t))throw Error(j(40));return t._reactRootContainer?(_r(function(){so(null,null,t,!1,function(){t._reactRootContainer=null,t[jt]=null})}),!0):!1};Ge.unstable_batchedUpdates=ql;Ge.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!no(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return so(t,e,r,!1,n)};Ge.version="18.3.1-next-f1338f8080-20240426";function ch(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ch)}catch(t){console.error(t)}}ch(),ud.exports=Ge;var gg=ud.exports,xc=gg;qo.createRoot=xc.createRoot,qo.hydrateRoot=xc.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(t,e)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>O.createElement("svg",{ref:d,...vg,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${yg(t)}`,a].join(" "),...c},[...e.map(([f,h])=>O.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=z("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=z("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=z("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=z("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=z("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=z("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=z("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=z("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=z("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var eu={},Ri={},Wa=function(t,e){return Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Wa(t,e)};function hh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wa(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ai=function(){return Ai=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ai.apply(this,arguments)};function cn(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function ph(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function mh(t,e){return function(r,n){e(r,n,t)}}function gh(t,e,r,n,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var b=(0,r[m])(a==="accessor"?{get:d.get,set:d.set}:d[l],y);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=o(b.get))&&(d.get=f),(f=o(b.set))&&(d.set=f),(f=o(b.init))&&s.unshift(f)}else(f=o(b))&&(a==="field"?s.unshift(f):d[l]=f)}c&&Object.defineProperty(c,n.name,d),h=!0}function vh(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function yh(t){return typeof t=="symbol"?t:"".concat(t)}function wh(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function _h(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function A(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function kh(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var io=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function xh(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&io(e,t,r)}function Ii(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function bh(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tu(arguments[e]));return t}function Sh(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Eh(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function sn(t){return this instanceof sn?(this.v=t,this):new sn(t)}function jh(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(y){return Promise.resolve(y).then(m,f)}}function a(m,y){n[m]&&(s[m]=function(w){return new Promise(function(b,g){i.push([m,w,b,g])>1||l(m,w)})},y&&(s[m]=y(s[m])))}function l(m,y){try{c(n[m](y))}catch(w){h(i[0][3],w)}}function c(m){m.value instanceof sn?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function h(m,y){m(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Th(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:sn(t[s](o)),done:!1}:i?i(o):o}:i}}function Nh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ii=="function"?Ii(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function Ch(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Lg=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Va=function(t){return Va=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Va(t)};function Oh(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Va(t),n=0;n<r.length;n++)r[n]!=="default"&&io(e,t,r[n]);return Lg(e,t),e}function Ph(t){return t&&t.__esModule?t:{default:t}}function Rh(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Ah(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function Ih(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function $h(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Dg=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Lh(t){function e(i){t.error=t.hasError?new Dg(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Dh(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Ug={__extends:hh,__assign:Ai,__rest:cn,__decorate:ph,__param:mh,__esDecorate:gh,__runInitializers:vh,__propKey:yh,__setFunctionName:wh,__metadata:_h,__awaiter:A,__generator:kh,__createBinding:io,__exportStar:xh,__values:Ii,__read:tu,__spread:bh,__spreadArrays:Sh,__spreadArray:Eh,__await:sn,__asyncGenerator:jh,__asyncDelegator:Th,__asyncValues:Nh,__makeTemplateObject:Ch,__importStar:Oh,__importDefault:Ph,__classPrivateFieldGet:Rh,__classPrivateFieldSet:Ah,__classPrivateFieldIn:Ih,__addDisposableResource:$h,__disposeResources:Lh,__rewriteRelativeImportExtension:Dh},Mg=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:$h,get __assign(){return Ai},__asyncDelegator:Th,__asyncGenerator:jh,__asyncValues:Nh,__await:sn,__awaiter:A,__classPrivateFieldGet:Rh,__classPrivateFieldIn:Ih,__classPrivateFieldSet:Ah,__createBinding:io,__decorate:ph,__disposeResources:Lh,__esDecorate:gh,__exportStar:xh,__extends:hh,__generator:kh,__importDefault:Ph,__importStar:Oh,__makeTemplateObject:Ch,__metadata:_h,__param:mh,__propKey:yh,__read:tu,__rest:cn,__rewriteRelativeImportExtension:Dh,__runInitializers:vh,__setFunctionName:wh,__spread:bh,__spreadArray:Eh,__spreadArrays:Sh,__values:Ii,default:Ug},Symbol.toStringTag,{value:"Module"})),Bg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let oo=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},Uh=class extends oo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Ha=class extends oo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},qa=class extends oo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var $i;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($i||($i={}));class Fg{constructor(e,{headers:r={},customFetch:n,region:s=$i.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Bg(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return A(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(h["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(h["Content-Type"]="application/json",w=JSON.stringify(c)):w=c;let b=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:b}).catch(_=>{throw new Uh(_)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new Ha(g);if(!g.ok)throw new qa(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return v==="application/json"?k=yield g.json():v==="application/octet-stream"||v==="application/pdf"?k=yield g.blob():v==="text/event-stream"?k=g:v==="multipart/form-data"?k=yield g.formData():k=yield g.text(),{data:k,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof qa||a instanceof Ha?a.context:void 0}}finally{i&&clearTimeout(i)}})}}const zg=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return $i},FunctionsClient:Fg,FunctionsError:oo,FunctionsFetchError:Uh,FunctionsHttpError:qa,FunctionsRelayError:Ha},Symbol.toStringTag,{value:"Module"})),Mh=as(zg);var Te={};const dn=as(Mg);var $s={},Ls={},Ds={},Us={},Ms={},Bs={},Tc;function Bh(){if(Tc)return Bs;Tc=1,Object.defineProperty(Bs,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Bs.default=t,Bs}var Nc;function Fh(){if(Nc)return Ms;Nc=1,Object.defineProperty(Ms,"__esModule",{value:!0});const e=dn.__importDefault(Bh());let r=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,f,h;let m=null,y=null,w=null,b=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const _=await l.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=_:y=JSON.parse(_))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),k=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&k&&k.length>1&&(w=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,b=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const v=await l.text();try{m=JSON.parse(v),Array.isArray(m)&&l.status===404&&(y=[],m=null,b=200,g="OK")}catch{l.status===404&&v===""?(b=204,g="No Content"):m={message:v}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,b=200,g="OK"),m&&this.shouldThrowOnError)throw new e.default(m)}return{error:m,data:y,count:w,status:b,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,d,f,h,m,y;let w="";const b=l==null?void 0:l.cause;if(b){const g=(c=b==null?void 0:b.message)!==null&&c!==void 0?c:"",p=(d=b==null?void 0:b.code)!==null&&d!==void 0?d:"";w=`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,w+=`

Caused by: ${(h=b==null?void 0:b.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(w+=` (${p})`),b!=null&&b.stack&&(w+=`
${b.stack}`)}else w=(m=l==null?void 0:l.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"FetchError"}: ${l==null?void 0:l.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}};return Ms.default=r,Ms}var Cc;function zh(){if(Cc)return Us;Cc=1,Object.defineProperty(Us,"__esModule",{value:!0});const e=dn.__importDefault(Fh());let r=class extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return Us.default=r,Us}var Oc;function ru(){if(Oc)return Ds;Oc=1,Object.defineProperty(Ds,"__esModule",{value:!0});const e=dn.__importDefault(zh()),r=new RegExp("[,()]");let n=class extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}};return Ds.default=n,Ds}var Pc;function Wh(){if(Pc)return Ls;Pc=1,Object.defineProperty(Ls,"__esModule",{value:!0});const e=dn.__importDefault(ru());let r=class{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return Ls.default=r,Ls}var Rc;function Wg(){if(Rc)return $s;Rc=1,Object.defineProperty($s,"__esModule",{value:!0});const t=dn,e=t.__importDefault(Wh()),r=t.__importDefault(ru());let n=class Vh{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new Vh(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;a||l?(f=a?"HEAD":"GET",Object.entries(o).filter(([w,b])=>b!==void 0).map(([w,b])=>[w,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([w,b])=>{h.searchParams.append(w,b)})):(f="POST",m=o);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new r.default({method:f,url:h,headers:y,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return $s.default=n,$s}Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const fn=dn,Hh=fn.__importDefault(Wg());Te.PostgrestClient=Hh.default;const qh=fn.__importDefault(Wh());Te.PostgrestQueryBuilder=qh.default;const Kh=fn.__importDefault(ru());Te.PostgrestFilterBuilder=Kh.default;const Gh=fn.__importDefault(zh());Te.PostgrestTransformBuilder=Gh.default;const Jh=fn.__importDefault(Fh());Te.PostgrestBuilder=Jh.default;const Qh=fn.__importDefault(Bh());Te.PostgrestError=Qh.default;Te.default={PostgrestClient:Hh.default,PostgrestQueryBuilder:qh.default,PostgrestFilterBuilder:Kh.default,PostgrestTransformBuilder:Gh.default,PostgrestBuilder:Jh.default,PostgrestError:Qh.default};class Yh{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Vg="2.87.1",Hg=`realtime-js/${Vg}`,Xh="1.0.0",qg="2.0.0",Ac=Xh,Ka=1e4,Kg=1e3,Gg=100;var lr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(lr||(lr={}));var le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(le||(le={}));var at;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(at||(at={}));var Ga;(function(t){t.websocket="websocket"})(Ga||(Ga={}));var ur;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ur||(ur={}));class Jg{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,a.length),y.setUint8(w++,o.length),y.setUint8(w++,c.length),y.setUint8(w++,f.length),y.setUint8(w++,r),Array.from(l,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(o,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(c,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(f,g=>y.setUint8(w++,g.charCodeAt(0)));var b=new Uint8Array(m.byteLength+n.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(n),m.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}let Zh=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const Ic=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Qg(o,t,e,s),i),{}):{}},Qg=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?ep(i,o):Ja(o)},ep=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ev(e,r)}switch(t){case G.bool:return Yg(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return Xg(e);case G.json:case G.jsonb:return Zg(e);case G.timestamp:return tv(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Ja(e);default:return Ja(e)}},Ja=t=>t,Yg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Xg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Zg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ev=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ep(e,a))}return t},tv=t=>typeof t=="string"?t.replace(" ","T"):t,tp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bo{constructor(e,r,n={},s=Ka){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Qa;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Qa||(Qa={}));let rp=class ni{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ni.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ni.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ni.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),y=d.filter(b=>m.indexOf(b.presence_ref)<0),w=f.filter(b=>h.indexOf(b.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);e[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ya;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ya||(Ya={}));var Jr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Jr||(Jr={}));var mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));const rv=le;let np=class Nn{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bo(this,at.join,this.params,this.timeout),this.rejoinTimer=new Zh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(at.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new rp(this),this.broadcastEndpointURL=tp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Jr.PRESENCE]&&this.bindings[Jr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(mt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(mt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(mt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<b;p++){const v=w[p],{filter:{event:k,schema:_,table:x,filter:E}}=v,C=m&&m[p];if(C&&C.event===k&&Nn.isFilterValueEqual(C.schema,_)&&Nn.isFilterValueEqual(C.table,x)&&Nn.isFilterValueEqual(C.filter,E))g.push(Object.assign(Object.assign({},v),{id:C.id}));else{this.unsubscribe(),this.state=le.errored,e==null||e(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(mt.SUBSCRIBED);return}}).receive("error",m=>{this.state=le.errored,e==null||e(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===le.joined&&e===Jr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=le.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(at.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Bo(this,at.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Bo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Gg){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=at;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,w,b;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=m.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,w,b,g,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const k=m.id,_=(y=m.filter)===null||y===void 0?void 0:y.event;return k&&((w=r.ids)===null||w===void 0?void 0:w.includes(k))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return k==="*"||k===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:b,commit_timestamp:g,type:p,errors:v}=y;h=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Nn.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(at.close,{},e)}_onError(e){this._on(at.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ic(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ic(e.columns,e.old_record)),r}};const Fo=()=>{},Fs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nv=[1e3,2e3,5e3,1e4],sv=1e4,iv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let ov=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ka,this.transport=null,this.heartbeatIntervalMs=Fs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fo,this.ref=0,this.reconnectTimer=null,this.vsn=Ac,this.logger=Fo,this.conn=null,this.sendBuffer=[],this.serializer=new Jg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ga.websocket}`,this.httpEndpoint=tp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yh.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case lr.connecting:return ur.Connecting;case lr.open:return ur.Open;case lr.closing:return ur.Closing;default:return ur.Closed}}isConnected(){return this.connectionState()===ur.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new np(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Kg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===lr.open||this.conn.readyState===lr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(at.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([iv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Hg};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(at.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Zh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,d,f,h,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ka,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Fs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Fo,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Ac,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:y=>nv[y-1]||sv,this.vsn){case Xh:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(y,w)=>w(JSON.stringify(y)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(y,w)=>w(JSON.parse(y));break;case qg:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const av=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:rv,get REALTIME_LISTEN_TYPES(){return Jr},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Ya},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Qa},get REALTIME_SUBSCRIBE_STATES(){return mt},RealtimeChannel:np,RealtimeClient:ov,RealtimePresence:rp,WebSocketFactory:Yh},Symbol.toStringTag,{value:"Module"})),sp=as(av);class hs extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Z(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ip extends hs{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Li extends hs{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const nu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),lv=()=>Response,Xa=t=>{if(Array.isArray(t))return t.map(r=>Xa(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Xa(n)}),e},uv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},cv=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),zo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},dv=(t,e,r)=>A(void 0,void 0,void 0,function*(){const n=yield lv();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new ip(zo(s),i,o))}).catch(s=>{e(new Li(zo(s),s))}):e(new Li(zo(t),t))}),fv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(uv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ps(t,e,r,n,s,i){return A(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,fv(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>dv(l,a,n))})})}function is(t,e,r,n){return A(this,void 0,void 0,function*(){return ps(t,"GET",e,r,n)})}function it(t,e,r,n,s){return A(this,void 0,void 0,function*(){return ps(t,"POST",e,n,s,r)})}function Za(t,e,r,n,s){return A(this,void 0,void 0,function*(){return ps(t,"PUT",e,n,s,r)})}function hv(t,e,r,n){return A(this,void 0,void 0,function*(){return ps(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function su(t,e,r,n,s){return A(this,void 0,void 0,function*(){return ps(t,"DELETE",e,n,s,r)})}class pv{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return A(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}}var op;class mv{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[op]="BlobDownloadBuilder",this.promise=null}asStream(){return new pv(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return A(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}}op=Symbol.toStringTag;const gv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$c={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vv{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=nu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return A(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$c),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(e=="PUT"?Za:it)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Z(i))return{data:null,error:i};throw i}})}upload(e,r,n){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return A(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:$c.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield Za(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Z(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return A(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield it(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new hs("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}update(e,r,n){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return A(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}copy(e,r,n){return A(this,void 0,void 0,function*(){try{return{data:{path:(yield it(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return A(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield it(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return A(this,void 0,void 0,function*(){try{const s=yield it(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>is(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new mv(l,this.shouldThrowOnError)}info(e){return A(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield is(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xa(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}exists(e){return A(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield hv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n)&&n instanceof Li){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return A(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}list(e,r,n){return A(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gv),r),{prefix:e||""});return{data:yield it(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}listV2(e,r){return A(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield it(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const ap="2.87.1",lp={"X-Client-Info":`storage-js/${ap}`};class yv{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lp),r),this.fetch=nu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return A(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield is(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}createBucket(e){return A(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield it(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return A(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}emptyBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var os=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wv(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function _v(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function kv(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=wv(t.baseUrl,n,s),l=await _v(t.auth),c=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const m=f?h:void 0,y=m==null?void 0:m.error;throw new os((y==null?void 0:y.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:c.status,headers:c.headers,data:h}}}}function zs(t){return t.join("")}var xv=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:zs(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zs(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zs(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zs(t.namespace)}`}),!0}catch(e){if(e instanceof os&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof os&&r.status===409)return;throw r}}};function Er(t){return t.join("")}var bv=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof os&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof os&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Sv=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=kv({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new xv(this.client,e),this.tableOps=new bv(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class up{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lp),r),this.fetch=nu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}listBuckets(e){return A(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield is(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}from(e){if(!cv(e))throw new hs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Sv({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>A(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const a=i[o];return typeof a!="function"?a:(...l)=>A(this,void 0,void 0,function*(){try{return{data:yield a.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}})}})}}const iu={"X-Client-Info":`storage-js/${ap}`,"Content-Type":"application/json"};class ou extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function De(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class si extends ou{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cp extends ou{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var el;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(el||(el={}));const ao=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ev=()=>Response,dp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jv=t=>Array.from(new Float32Array(t)),Tv=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Lc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Nv=(t,e,r)=>A(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new si(Lc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new si(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new si(a,s,o))}}else e(new cp(Lc(t),t))}),Cv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(dp(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Ov(t,e,r,n,s,i){return A(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Cv(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Nv(l,a,n))})})}function Ve(t,e,r,n,s){return A(this,void 0,void 0,function*(){return Ov(t,"POST",e,n,s,r)})}class fp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iu),r),this.fetch=ao(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return A(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}getIndex(e,r){return A(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}listIndexes(e){return A(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return A(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}}class hp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iu),r),this.fetch=ao(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return A(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ve(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}getVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}listVectors(e){return A(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ve(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}queryVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}deleteVectors(e){return A(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ve(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}}class pp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iu),r),this.fetch=ao(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}listBuckets(){return A(this,arguments,void 0,function*(e={}){try{return{data:yield Ve(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}}class mp extends pp{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new gp(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return A(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return A(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return A(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return A(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class gp extends fp{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return A(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return A(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return A(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return A(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new vp(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class vp extends hp{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return A(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return A(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return A(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return A(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return A(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Pv extends yv{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new vv(this.url,this.headers,e,this.fetch)}get vectors(){return new mp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new up(this.url+"/iceberg",this.headers,this.fetch)}}const Rv=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:up,StorageApiError:ip,StorageClient:Pv,StorageError:hs,StorageUnknownError:Li,StorageVectorsApiError:si,StorageVectorsClient:mp,StorageVectorsError:ou,get StorageVectorsErrorCode(){return el},StorageVectorsUnknownError:cp,VectorBucketApi:pp,VectorBucketScope:gp,VectorDataApi:hp,VectorIndexApi:fp,VectorIndexScope:vp,isPlainObject:dp,isStorageError:Z,isStorageVectorsError:De,normalizeToFloat32:jv,resolveFetch:ao,resolveResponse:Ev,validateVectorDimension:Tv},Symbol.toStringTag,{value:"Module"})),Av=as(Rv);var yp={},lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.version=void 0;lo.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=lo;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(yp);var wp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(s,i,o)=>{const a=(0,t.resolveFetch)(o),l=(0,t.resolveHeadersConstructor)();return async(c,d)=>{var f;const h=(f=await i())!==null&&f!==void 0?f:s;let m=new l(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",s),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),a(c,Object.assign(Object.assign({},d),{headers:m}))}};t.fetchWithAuth=n})(wp);var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.isBrowser=void 0;Zt.uuid=Iv;Zt.ensureTrailingSlash=_p;Zt.applySettingDefaults=Lv;Zt.validateSupabaseUrl=Dv;function Iv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function _p(t){return t.endsWith("/")?t:t+"/"}const $v=()=>typeof window<"u";Zt.isBrowser=$v;function Lv(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Dv(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_p(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var uo={};const kp="2.87.1",Cr=30*1e3,tl=3,Wo=tl*Cr,Uv="http://localhost:9999",Mv="supabase.auth.token",Bv={"X-Client-Info":`gotrue-js/${kp}`},rl="X-Supabase-Api-Version",xp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Fv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zv=10*60*1e3;let on=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let bp=class extends on{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function Sp(t){return I(t)&&t.name==="AuthApiError"}let Lt=class extends on{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Ot=class extends on{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}},$e=class extends Ot{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Ep(t){return I(t)&&t.name==="AuthSessionMissingError"}let ir=class extends Ot{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Cn=class extends Ot{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},On=class extends Ot{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function jp(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}let nl=class extends Ot{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Di=class extends Ot{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function ii(t){return I(t)&&t.name==="AuthRetryableFetchError"}let sl=class extends Ot{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function Wv(t){return I(t)&&t.name==="AuthWeakPasswordError"}let Ui=class extends Ot{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dc=` 	
\r=`.split(""),Vv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Dc.length;e+=1)t[Dc[e].charCodeAt(0)]=-2;for(let e=0;e<Mi.length;e+=1)t[Mi[e].charCodeAt(0)]=e;return t})();function Uc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Mi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Mi[n]),e.queuedBits-=6}}function Tp(t,e,r){const n=Vv[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Kv(o,n,r)};for(let o=0;o<t.length;o+=1)Tp(t.charCodeAt(o),s,i);return e.join("")}function Hv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function qv(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Hv(n,e)}}function Kv(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Qr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Tp(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Gv(t){const e=[];return qv(t,r=>e.push(r)),new Uint8Array(e)}function hr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Uc(s,r,n)),Uc(null,r,n),e.join("")}function Jv(t){return Math.round(Date.now()/1e3)+t}function Qv(){return Symbol("auth-callback")}const we=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},Np=()=>{if(!we())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function Yv(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Cp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Xv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Or=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},rr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ye=async(t,e)=>{await t.removeItem(e)};class co{constructor(){this.promise=new co.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}co.promiseConstructor=Promise;function Vo(t){const e=t.split(".");if(e.length!==3)throw new Ui("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Fv.test(e[n]))throw new Ui("JWT not in base64url format");return{header:JSON.parse(Mc(e[0])),payload:JSON.parse(Mc(e[1])),signature:Qr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Zv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ey(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function ty(t){return("0"+t.toString(16)).substr(-2)}function ry(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,ty).join("")}async function ny(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function sy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ny(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jr(t,e,r=!1){const n=ry();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Or(t,`${e}-code-verifier`,s);const i=await sy(n);return[i,n===i?"plain":"s256"]}const iy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oy(t){const e=t.headers.get(rl);if(!e||!e.match(iy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ay(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ly(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tr(t){if(!uy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ho(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cy(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Bc(t){return JSON.parse(JSON.stringify(t))}const or=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dy=[502,503,504];async function Fc(t){var e;if(!Xv(t))throw new Di(or(t),0);if(dy.includes(t.status))throw new Di(or(t),t.status);let r;try{r=await t.json()}catch(i){throw new Lt(or(i),i)}let n;const s=oy(t);if(s&&s.getTime()>=xp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new sl(or(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new $e}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new sl(or(r),t.status,r.weak_password.reasons);throw new bp(or(r),t.status||500,n)}const fy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function $(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[rl]||(i[rl]=xp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hy(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function hy(t,e,r,n,s,i){const o=fy(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Di(or(l),0)}if(a.ok||await Fc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Fc(l)}}function nt(t){var e;let r=null;gy(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Jv(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function zc(t){const e=nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Dt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function py(t){return{data:t,error:null}}function my(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=cn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Wc(t){return t}function gy(t){return t.access_token&&t.refresh_token&&t.expires_in}const oi=["global","local","others"];let au=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Cp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=oi[0]){if(oi.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oi.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=cn(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:my,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Wc});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Tr(e);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Tr(e);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Dt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Tr(e);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Tr(e.userId);try{const{data:r,error:n}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Tr(e.userId),Tr(e.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Wc});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(I(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}};function Vc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ar={debug:!!(globalThis&&Np()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let Op=class extends lu{};class vy extends lu{}async function Pp(t,e,r){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Op(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ar.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Hc={};async function yy(t,e,r){var n;const s=(n=Hc[t])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),e>=0?new Promise((o,a)=>{setTimeout(()=>{a(new vy(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return Hc[t]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function wy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rp(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function _y(t){return parseInt(t,16)}function ky(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function xy(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=Rp(t.address),y=d?`${d}://${n}`:n,w=t.statement?`${t.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let p=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);p+=`
- ${v}`}g+=p}return`${b}
${g}`}class ue extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Bi extends ue{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function by({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ue({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Ap(o)){if(i.rp.id!==o)return new ue({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Sy({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ue({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Ap(n)){if(r.rpId!==n)return new ue({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Ey{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const jy=new Ey;function Ty(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=cn(t,["challenge","user","excludeCredentials"]),i=Qr(e).buffer,o=Object.assign(Object.assign({},r),{id:Qr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Qr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Ny(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=cn(t,["challenge","allowCredentials"]),s=Qr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Qr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Cy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:hr(new Uint8Array(t.response.attestationObject)),clientDataJSON:hr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Oy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:hr(new Uint8Array(s.authenticatorData)),clientDataJSON:hr(new Uint8Array(s.clientDataJSON)),signature:hr(new Uint8Array(s.signature)),userHandle:s.userHandle?hr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ap(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function qc(){var t,e;return!!(we()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Py(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bi("Browser returned unexpected credential type",e)}:{data:null,error:new Bi("Empty credential response",e)}}catch(e){return{data:null,error:by({error:e,options:t})}}}async function Ry(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bi("Browser returned unexpected credential type",e)}:{data:null,error:new Bi("Empty credential response",e)}}catch(e){return{data:null,error:Sy({error:e,options:t})}}}const Ay={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Iy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Fi(a,o):n[i]=Fi(o)}else n[i]=o}return n}function $y(t,e){return Fi(Ay,t,e||{})}function Ly(t,e){return Fi(Iy,t,e||{})}class Dy{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??jy.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=$y(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await Py({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=Ly(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Ry(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Lt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new on("rpId is required for WebAuthn authentication")};try{if(!qc())return{data:null,error:new Lt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Lt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new on("rpId is required for WebAuthn registration")};try{if(!qc())return{data:null,error:new Lt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Lt("Unexpected error in register",o)}}}}wy();const Uy={url:Uv,storageKey:Mv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Kc(t,e,r){return await r()}const Nr={};let uu=class il{get jwks(){var e,r;return(r=(e=Nr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Nr[this.storageKey]=Object.assign(Object.assign({},Nr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Nr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nr[this.storageKey]=Object.assign(Object.assign({},Nr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Uy),e);if(this.storageKey=i.storageKey,this.instanceID=(r=il.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,il.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&we()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new au({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Cp(i.fetch),this.lock=i.lock||Kc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&we()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Pp:this.lock=Kc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Dy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Np()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Vc(this.memoryStorage)),we()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(we()&&(r=Yv(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),we()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jp(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new Lt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:nt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await jr(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:nt})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:nt})}else throw new Cn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ye(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await ye(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zc})}else throw new Cn("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new ir;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,c,d,f,h;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:w,wallet:b,statement:g,options:p}=e;let v;if(we())if(typeof b=="object")v=b;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")v=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=b}const k=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),_=await v.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=Rp(_[0]);let E=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const N=await v.request({method:"eth_chainId"});E=_y(N)}const C={domain:k.host,address:x,statement:g,uri:k.href,version:"1",chainId:E,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=xy(C),y=await v.request({method:"personal_sign",params:[ky(m),x]})}try{const{data:w,error:b}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:nt});if(b)throw b;if(!w||!w.session||!w.user){const g=new ir;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(I(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,c,d,f,h,m;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:b,wallet:g,statement:p,options:v}=e;let k;if(we())if(typeof g=="object")k=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))k=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const x=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let E;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")E=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)E=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const x=await k.signMessage(new TextEncoder().encode(y),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=x}}try{const{data:b,error:g}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:hr(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:nt});if(g)throw g;if(!b||!b.session||!b.user){const p=new ir;return this._returnResult({data:{user:null,session:null},error:p})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:g})}catch(b){if(I(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await rr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:nt});if(await ye(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new ir;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ye(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nt}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new ir;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await jr(this.storage,this.storageKey));const{error:f}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Cn("You must provide either an email or phone number.")}catch(a){if(await ye(this.storage,`${this.storageKey}-code-verifier`),I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:nt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await jr(this.storage,this.storageKey));const c=await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:py});return!((i=c.data)===null||i===void 0)&&i.url&&we()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await ye(this.storage,`${this.storageKey}-code-verifier`),I(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new $e;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(I(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await $(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await $(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Cn("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Wo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await rr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ho()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=cy(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $e}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(r){if(I(r))return Ep(r)&&(await this._removeSession(),await ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new $e;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await jr(this.storage,this.storageKey));const{data:c,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Dt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ye(this.storage,`${this.storageKey}-code-verifier`),I(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $e;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Vo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new $e;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!we())throw new On("No browser detected.");if(e.error||e.error_description||e.error_code)throw new On(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new On("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new nl("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new On("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=Cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Sp(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Qv(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await jr(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ye(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return we()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(I(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=e,f=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:nt}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ir}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await ye(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ey(async s=>(s>0&&await Zv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ii(i)&&Date.now()+o-n<Cr})}catch(n){if(this._debug(r,"error",n),I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),we()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await rr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Or(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ho()}else if(s&&!s.user&&!s.user){const o=await rr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ye(this.storage,this.storageKey+"-user"),await Or(this.storage,this.storageKey,s)):s.user=Ho()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Wo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ii(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new $e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new co;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new $e;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={data:null,error:i};return ii(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ye(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Or(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Bc(s);await Or(this.storage,this.storageKey,i)}else{const s=Bc(r);await Or(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ye(this.storage,this.storageKey),await ye(this.storage,this.storageKey+"-code-verifier"),await ye(this.storage,this.storageKey+"-user"),this.userStorage&&await ye(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&we()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cr}ms, refresh threshold is ${tl} ticks`),s<=tl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof lu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!we()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await jr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await $(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Cy(e.webauthn.credential_response):Oy(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ty(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ny(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Vo(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $e})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&we()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&we()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await $(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new $e})})}catch(e){if(I(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await $(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $e})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+zv>s)return n;const{data:i,error:o}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Vo(n);r!=null&&r.allowExpired||ay(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=ly(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Gv(`${a}.${l}`)))throw new Ui("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}};uu.nextInstanceID={};const My=au,By=uu,Fy=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:My,AuthApiError:bp,AuthClient:By,AuthError:on,AuthImplicitGrantRedirectError:On,AuthInvalidCredentialsError:Cn,AuthInvalidJwtError:Ui,AuthInvalidTokenResponseError:ir,AuthPKCEGrantCodeExchangeError:nl,AuthRetryableFetchError:Di,AuthSessionMissingError:$e,AuthUnknownError:Lt,AuthWeakPasswordError:sl,CustomAuthError:Ot,GoTrueAdminApi:au,GoTrueClient:uu,NavigatorLockAcquireTimeoutError:Op,SIGN_OUT_SCOPES:oi,isAuthApiError:Sp,isAuthError:I,isAuthImplicitGrantRedirectError:jp,isAuthRetryableFetchError:ii,isAuthSessionMissingError:Ep,isAuthWeakPasswordError:Wv,lockInternals:ar,navigatorLock:Pp,processLock:yy},Symbol.toStringTag,{value:"Module"})),Ip=as(Fy);Object.defineProperty(uo,"__esModule",{value:!0});uo.SupabaseAuthClient=void 0;const zy=Ip;class Wy extends zy.AuthClient{constructor(e){super(e)}}uo.SupabaseAuthClient=Wy;Object.defineProperty(Ri,"__esModule",{value:!0});const Vy=Mh,Hy=Te,qy=sp,Ky=Av,Ws=yp,Gy=wp,Gc=Zt,Jy=uo;let Qy=class{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=(0,Gc.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Ws.DEFAULT_DB_OPTIONS,realtime:Ws.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Ws.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:Ws.DEFAULT_GLOBAL_OPTIONS},d=(0,Gc.applySettingDefaults)(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,Gy.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new Hy.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Ky.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Vy.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c,throwOnError:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jy.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new qy.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Ri.default=Qy;(function(t){var e=br&&br.__createBinding||(Object.create?function(d,f,h,m){m===void 0&&(m=h);var y=Object.getOwnPropertyDescriptor(f,h);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,m,y)}:function(d,f,h,m){m===void 0&&(m=h),d[m]=f[h]}),r=br&&br.__exportStar||function(d,f){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&e(f,d,h)},n=br&&br.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=n(Ri);r(Ip,t);var i=Te;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=Mh;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(sp,t);var a=Ri;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(a).default}});const l=(d,f,h)=>new s.default(d,f,h);t.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(eu);const $p=Yc(eu),Yy=Wp({__proto__:null,default:$p},[eu]),{PostgrestError:Zw,FunctionsHttpError:e_,FunctionsFetchError:t_,FunctionsRelayError:r_,FunctionsError:n_,FunctionRegion:s_,SupabaseClient:i_,createClient:Xy,GoTrueAdminApi:o_,GoTrueClient:a_,AuthAdminApi:l_,AuthClient:u_,navigatorLock:c_,NavigatorLockAcquireTimeoutError:d_,lockInternals:f_,processLock:h_,SIGN_OUT_SCOPES:p_,AuthError:m_,AuthApiError:g_,AuthUnknownError:v_,CustomAuthError:y_,AuthSessionMissingError:w_,AuthInvalidTokenResponseError:__,AuthInvalidCredentialsError:k_,AuthImplicitGrantRedirectError:x_,AuthPKCEGrantCodeExchangeError:b_,AuthRetryableFetchError:S_,AuthWeakPasswordError:E_,AuthInvalidJwtError:j_,isAuthError:T_,isAuthApiError:N_,isAuthSessionMissingError:C_,isAuthImplicitGrantRedirectError:O_,isAuthRetryableFetchError:P_,isAuthWeakPasswordError:R_,RealtimePresence:A_,RealtimeChannel:I_,RealtimeClient:$_,REALTIME_LISTEN_TYPES:L_,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:D_,REALTIME_PRESENCE_LISTEN_EVENTS:U_,REALTIME_SUBSCRIBE_STATES:M_,REALTIME_CHANNEL_STATES:B_}=$p||Yy,Zy="https://mcwlvrutadtfvivutaib.supabase.co",ew="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jd2x2cnV0YWR0ZnZpdnV0YWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzNjcyMzcsImV4cCI6MjA4MDk0MzIzN30.o-cbVtajjIF33QCrS1a944YawinqjX6_m2TuerZKZtY",Ne=Xy(Zy,ew),tw=async()=>{const t="https://adrianbailador.github.io/Coffee-Pomodoro/",{data:e,error:r}=await Ne.auth.signInWithOAuth({provider:"google",options:{redirectTo:t}});return{data:e,error:r}};async function rw(){const{error:t}=await Ne.auth.signOut();if(t)throw t}function nw(t){const{data:{subscription:e}}=Ne.auth.onAuthStateChange((r,n)=>{t((n==null?void 0:n.user)??null)});return()=>e.unsubscribe()}const sw="https://coffee-pomodoro.onrender.com/api";async function iw(){const{data:{session:t}}=await Ne.auth.getSession();return{"Content-Type":"application/json",...(t==null?void 0:t.access_token)&&{Authorization:`Bearer ${t.access_token}`}}}async function zi(t,e={}){const r=await iw(),n=await fetch(`${sw}${t}`,{...e,headers:{...r,...e.headers}});if(!n.ok){const s=await n.text();throw new Error(s||`HTTP error! status: ${n.status}`)}if(n.status!==204)return n.json()}const ow={syncUser:()=>zi("/auth/sync",{method:"POST"}),getCurrentUser:()=>zi("/auth/me")},Jc={get:()=>zi("/settings"),update:t=>zi("/settings",{method:"PATCH",body:JSON.stringify(t)})},Vs={workDurationMinutes:25,shortBreakMinutes:5,longBreakMinutes:15,sessionsBeforeLongBreak:4,darkMode:!1},Lp=O.createContext(void 0);function aw({children:t}){const[e,r]=O.useState(null),[n,s]=O.useState(null),[i,o]=O.useState(Vs),[a,l]=O.useState(!0);O.useEffect(()=>(Ne.auth.getSession().then(({data:{session:y}})=>{r((y==null?void 0:y.user)??null),y!=null&&y.user&&c(),l(!1)}),nw(y=>{r(y),y?c():(s(null),o(Vs))})),[]);const c=async()=>{try{const[m,y]=await Promise.all([ow.syncUser().catch(()=>null),Jc.get().catch(()=>Vs)]);m&&s(m),o(y)}catch(m){console.error("Error loading user data:",m)}},d=async()=>{await tw()},f=async()=>{await rw(),r(null),s(null),o(Vs)},h=async m=>{try{const y=await Jc.update(m);o(y)}catch(y){throw console.error("Error updating settings:",y),y}};return u.jsx(Lp.Provider,{value:{user:e,profile:n,settings:i,loading:a,signIn:d,logOut:f,updateSettings:h},children:t})}function ms(){const t=O.useContext(Lp);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Dp=O.createContext(void 0);function lw({children:t}){const[e,r]=O.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});O.useEffect(()=>{const i=document.documentElement;e?(i.classList.add("dark"),localStorage.setItem("theme","dark")):(i.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]);const n=()=>r(i=>!i),s=i=>r(i);return u.jsx(Dp.Provider,{value:{isDark:e,toggleTheme:n,setDark:s},children:t})}function uw(){const t=O.useContext(Dp);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function cw({isOpen:t,onClose:e}){const[r,n]=O.useState(()=>{const o=localStorage.getItem("caffe-pomodoro-settings");if(o)try{return JSON.parse(o)}catch{return{workDuration:25,shortBreak:5,longBreak:15,sessionsBeforeLongBreak:4}}return{workDuration:25,shortBreak:5,longBreak:15,sessionsBeforeLongBreak:4}}),s=()=>{localStorage.setItem("caffe-pomodoro-settings",JSON.stringify(r)),e(),window.location.reload()},i=()=>{n({workDuration:25,shortBreak:5,longBreak:15,sessionsBeforeLongBreak:4})};return t?u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),u.jsxs("div",{className:"relative bg-white dark:bg-coffee-900 rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-coffee-200 dark:border-coffee-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-coffee-800 dark:text-coffee-100",children:"Settings"}),u.jsx("button",{type:"button",onClick:e,"aria-label":"Close settings",className:"p-2 rounded-full hover:bg-coffee-100 dark:hover:bg-coffee-800 text-coffee-500",children:u.jsx(Pi,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{htmlFor:"work-duration",className:"flex items-center gap-2 text-sm font-medium text-coffee-700 dark:text-coffee-200",children:[u.jsx(ze,{className:"w-4 h-4 text-espresso-500"}),"Work Duration (minutes)"]}),u.jsx("input",{id:"work-duration",type:"number",min:"1",max:"60",value:r.workDuration,onChange:o=>n({...r,workDuration:Number(o.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-800 text-coffee-800 dark:text-coffee-100 focus:outline-none focus:ring-2 focus:ring-espresso-500"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{htmlFor:"short-break",className:"flex items-center gap-2 text-sm font-medium text-coffee-700 dark:text-coffee-200",children:[u.jsx(Bn,{className:"w-4 h-4 text-emerald-500"}),"Short Break (minutes)"]}),u.jsx("input",{id:"short-break",type:"number",min:"1",max:"30",value:r.shortBreak,onChange:o=>n({...r,shortBreak:Number(o.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-800 text-coffee-800 dark:text-coffee-100 focus:outline-none focus:ring-2 focus:ring-espresso-500"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{htmlFor:"long-break",className:"flex items-center gap-2 text-sm font-medium text-coffee-700 dark:text-coffee-200",children:[u.jsx(Fn,{className:"w-4 h-4 text-sky-500"}),"Long Break (minutes)"]}),u.jsx("input",{id:"long-break",type:"number",min:"1",max:"60",value:r.longBreak,onChange:o=>n({...r,longBreak:Number(o.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-800 text-coffee-800 dark:text-coffee-100 focus:outline-none focus:ring-2 focus:ring-espresso-500"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{htmlFor:"sessions-before-long-break",className:"flex items-center gap-2 text-sm font-medium text-coffee-700 dark:text-coffee-200",children:[u.jsx(dh,{className:"w-4 h-4 text-coffee-500"}),"Sessions before long break"]}),u.jsx("input",{id:"sessions-before-long-break",type:"number",min:"1",max:"10",value:r.sessionsBeforeLongBreak,onChange:o=>n({...r,sessionsBeforeLongBreak:Number(o.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-800 text-coffee-800 dark:text-coffee-100 focus:outline-none focus:ring-2 focus:ring-espresso-500"})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-coffee-200 dark:border-coffee-700 bg-coffee-50 dark:bg-coffee-800",children:[u.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-100 dark:hover:bg-coffee-700 rounded-lg transition-colors",children:"Reset to defaults"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-100 dark:hover:bg-coffee-700 rounded-lg transition-colors",children:"Cancel"}),u.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-espresso-500 text-white rounded-lg hover:bg-espresso-600 transition-colors",children:"Save"})]})]})]})]}):null}function dw(){const{user:t,profile:e,signIn:r,logOut:n,loading:s}=ms(),{isDark:i,toggleTheme:o}=uw(),[a,l]=O.useState(!1),[c,d]=O.useState(!1),f=O.useRef(null),h=localStorage.getItem("caffe-pomodoro-guest")==="true",m=()=>{l(!1),h?(localStorage.removeItem("caffe-pomodoro-guest"),window.location.reload()):n()};return O.useEffect(()=>{function y(w){f.current&&!f.current.contains(w.target)&&l(!1)}return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-coffee-900/80 backdrop-blur-md border-b border-coffee-200 dark:border-coffee-700",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-gradient-to-br from-espresso-500 to-espresso-700 rounded-xl shadow-lg",children:u.jsx(ze,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"font-display text-xl font-bold text-coffee-800 dark:text-coffee-100",children:"Coffee Pomodoro"}),u.jsx("p",{className:"text-xs text-coffee-500 dark:text-coffee-400 hidden sm:block",children:"Productivity with style"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:o,"aria-label":i?"Light mode":"Dark mode",className:"p-2 rounded-full bg-coffee-100 dark:bg-coffee-800 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-200 dark:hover:bg-coffee-700 transition-colors",children:i?u.jsx(Og,{className:"w-5 h-5"}):u.jsx(jg,{className:"w-5 h-5"})}),s?u.jsx("div",{className:"w-10 h-10 rounded-full bg-coffee-200 dark:bg-coffee-700 animate-pulse"}):t||h?u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("button",{type:"button",onClick:()=>l(!a),"aria-label":"User menu",className:"flex items-center gap-2 p-1 rounded-full hover:bg-coffee-100 dark:hover:bg-coffee-800 transition-colors",children:t&&(e!=null&&e.avatarUrl)?u.jsx("img",{src:e.avatarUrl,alt:e.displayName||"User",className:"w-9 h-9 rounded-full border-2 border-espresso-500"}):u.jsx("div",{className:"w-9 h-9 rounded-full bg-espresso-500 flex items-center justify-center",children:u.jsx(Ig,{className:"w-5 h-5 text-white"})})}),a&&u.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-coffee-800 rounded-xl shadow-xl border border-coffee-200 dark:border-coffee-700 py-2 animate-fade-in",children:[u.jsxs("div",{className:"px-4 py-2 border-b border-coffee-200 dark:border-coffee-700",children:[u.jsx("p",{className:"font-medium text-coffee-800 dark:text-coffee-100 truncate",children:t?(e==null?void 0:e.displayName)||"User":"Guest"}),u.jsx("p",{className:"text-sm text-coffee-500 dark:text-coffee-400 truncate",children:t?t.email:"Not signed in"})]}),h&&!t&&u.jsxs("button",{type:"button",onClick:()=>{l(!1),r()},className:"w-full flex items-center gap-3 px-4 py-2 text-espresso-600 dark:text-espresso-400 hover:bg-coffee-100 dark:hover:bg-coffee-700 transition-colors",children:[u.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"})]}),"Sign in with Google"]}),u.jsxs("button",{type:"button",onClick:()=>{l(!1),d(!0)},className:"w-full flex items-center gap-3 px-4 py-2 text-coffee-700 dark:text-coffee-200 hover:bg-coffee-100 dark:hover:bg-coffee-700 transition-colors",children:[u.jsx(fh,{className:"w-4 h-4"}),"Settings"]}),u.jsxs("button",{type:"button",onClick:m,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[u.jsx(Eg,{className:"w-4 h-4"}),h&&!t?"Exit Guest Mode":"Sign out"]})]})]}):null]})]})}),u.jsx(cw,{isOpen:c,onClose:()=>d(!1)})]})}var U=(t=>(t[t.Work=0]="Work",t[t.ShortBreak=1]="ShortBreak",t[t.LongBreak=2]="LongBreak",t))(U||{});function fw({progress:t,sessionType:e,isRunning:r}){const[n,s]=O.useState(!1);O.useEffect(()=>{s(t>.9||e!==U.Work)},[t,e]);const o=(()=>{switch(e){case U.Work:return{liquid:"from-amber-900 via-amber-800 to-amber-700",surface:"bg-amber-600",glow:"shadow-amber-500/30"};case U.ShortBreak:return{liquid:"from-emerald-700 via-emerald-600 to-emerald-500",surface:"bg-emerald-400",glow:"shadow-emerald-500/30"};case U.LongBreak:return{liquid:"from-sky-700 via-sky-600 to-sky-500",surface:"bg-sky-400",glow:"shadow-sky-500/30"};default:return{liquid:"from-amber-900 via-amber-800 to-amber-700",surface:"bg-amber-600",glow:"shadow-amber-500/30"}}})(),a=Math.min(Math.max(t*100,0),100);return u.jsxs("div",{className:"relative w-64 h-80 mx-auto",children:[u.jsx("div",{className:`absolute -top-8 left-1/2 transform -translate-x-1/2 transition-opacity duration-500 ${n&&r?"opacity-100":"opacity-0"}`,children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"w-3 h-12 bg-gradient-to-t from-gray-400/40 to-transparent rounded-full animate-steam blur-sm"}),u.jsx("div",{className:"w-4 h-16 bg-gradient-to-t from-gray-400/50 to-transparent rounded-full animate-steam-delay blur-sm"}),u.jsx("div",{className:"w-3 h-10 bg-gradient-to-t from-gray-400/40 to-transparent rounded-full animate-steam blur-sm"})]})}),u.jsxs("div",{className:"relative w-full h-full",children:[u.jsx("div",{className:"absolute right-0 top-1/3 transform translate-x-6",children:u.jsx("div",{className:"w-10 h-20 border-4 border-coffee-300 dark:border-coffee-600 rounded-r-full bg-transparent"})}),u.jsxs("div",{className:`relative w-56 h-64 mx-auto mt-8 rounded-b-[40px] bg-gradient-to-b from-coffee-100 to-coffee-200 dark:from-coffee-700 dark:to-coffee-800 shadow-2xl ${o.glow} overflow-hidden border-4 border-coffee-300 dark:border-coffee-600`,children:[u.jsx("div",{className:"absolute inset-2 rounded-b-[36px] bg-gradient-to-b from-coffee-200/50 to-coffee-300/30 dark:from-coffee-800/50 dark:to-coffee-900/30"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 overflow-hidden rounded-b-[36px]",style:{height:"90%"},children:u.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t ${o.liquid} transition-all duration-300 ease-out`,style:{height:`${a}%`},children:[u.jsx("div",{className:`absolute top-0 left-0 right-0 h-4 ${o.surface} rounded-full transform -translate-y-1/2`,children:r&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute inset-0 rounded-full bg-white/10 animate-pulse-slow"}),u.jsx("div",{className:"absolute top-1/2 left-1/4 w-2 h-1 bg-white/20 rounded-full"}),u.jsx("div",{className:"absolute top-1/3 right-1/3 w-3 h-1 bg-white/15 rounded-full"})]})}),a>80&&u.jsx("div",{className:"absolute top-0 left-0 right-0 h-6",children:u.jsx("div",{className:"absolute inset-x-4 top-2 h-3 bg-gradient-to-r from-cream-200/60 via-cream-100/80 to-cream-200/60 rounded-full blur-sm"})})]})}),u.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-white/40 to-transparent rounded-t-lg"}),u.jsx("div",{className:"absolute top-0 left-2 w-4 h-full bg-gradient-to-r from-white/20 to-transparent rounded-l-lg"})]}),u.jsxs("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-72 h-8",children:[u.jsx("div",{className:"w-full h-full bg-gradient-to-b from-coffee-200 to-coffee-300 dark:from-coffee-600 dark:to-coffee-700 rounded-full shadow-lg border-2 border-coffee-300 dark:border-coffee-500"}),u.jsx("div",{className:"absolute top-1 left-4 right-4 h-2 bg-gradient-to-r from-transparent via-white/30 to-transparent rounded-full"})]})]}),u.jsx("div",{className:"absolute -bottom-2 left-8 w-4 h-6 bg-coffee-800 dark:bg-coffee-900 rounded-full transform rotate-45 opacity-60"}),u.jsx("div",{className:"absolute -bottom-1 left-14 w-3 h-5 bg-coffee-700 dark:bg-coffee-800 rounded-full transform -rotate-12 opacity-50"}),u.jsx("div",{className:"absolute -bottom-3 right-12 w-4 h-6 bg-coffee-800 dark:bg-coffee-900 rounded-full transform rotate-30 opacity-55"})]})}function hw({isOpen:t,sessionType:e,onClose:r}){if(!t)return null;const n={[U.Work]:{icon:u.jsx(ze,{className:"w-12 h-12"}),title:" Pomodoro Complete!",message:"Great job! Time for a well-deserved break.",color:"from-espresso-500 to-espresso-600",bgColor:"bg-espresso-50 dark:bg-espresso-900/30"},[U.ShortBreak]:{icon:u.jsx(Bn,{className:"w-12 h-12"}),title:" Break Over!",message:"Feeling refreshed? Let's get back to work!",color:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/30"},[U.LongBreak]:{icon:u.jsx(Fn,{className:"w-12 h-12"}),title:" Long Break Over!",message:"Ready to start a new cycle? Let's go!",color:"from-sky-500 to-sky-600",bgColor:"bg-sky-50 dark:bg-sky-900/30"}},{icon:s,title:i,message:o,color:a,bgColor:l}=n[e];return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:`relative w-full max-w-sm ${l} rounded-2xl shadow-2xl p-6 space-y-4 animate-bounce-in`,children:[u.jsx("button",{onClick:r,className:"absolute top-3 right-3 p-1 text-coffee-400 hover:text-coffee-600 dark:hover:text-coffee-200 transition-colors","aria-label":"Close alert",children:u.jsx(Pi,{className:"w-5 h-5"})}),u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:`p-4 bg-gradient-to-br ${a} rounded-full text-white shadow-lg`,children:s})}),u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h3",{className:"font-display text-2xl font-bold text-coffee-800 dark:text-coffee-100",children:i}),u.jsx("p",{className:"text-coffee-600 dark:text-coffee-300",children:o})]}),u.jsx("button",{onClick:r,className:`w-full py-3 rounded-xl bg-gradient-to-r ${a} text-white font-medium shadow-lg hover:shadow-xl transition-all`,children:e===U.Work?"Start Break":"Start Working"})]})})}const pw=()=>{const t=localStorage.getItem("caffe-pomodoro-settings");if(t)try{return JSON.parse(t)}catch{return{workDuration:25,shortBreak:5,longBreak:15,sessionsBeforeLongBreak:4}}return{workDuration:25,shortBreak:5,longBreak:15,sessionsBeforeLongBreak:4}};function mw(){const t=pw(),e=O.useRef(null),r=O.useRef(void 0),n=O.useCallback(_=>{switch(_){case U.Work:return t.workDuration*60;case U.ShortBreak:return t.shortBreak*60;case U.LongBreak:return t.longBreak*60;default:return t.workDuration*60}},[t.workDuration,t.shortBreak,t.longBreak]),[s,i]=O.useState({status:"idle",sessionType:U.Work,timeRemaining:n(U.Work),completedSessions:0,currentSessionId:null}),o=1-s.timeRemaining/n(s.sessionType),a=`${Math.floor(s.timeRemaining/60).toString().padStart(2,"0")}:${(s.timeRemaining%60).toString().padStart(2,"0")}`,l=O.useCallback((_,x)=>{"Notification"in window&&Notification.permission==="granted"&&new Notification(_,{body:x,icon:"/Coffee-Pomodoro/icon-192.png"})},[]),c=O.useCallback(async()=>{"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()},[]);O.useEffect(()=>{const _="/Coffee-Pomodoro/timer-worker.js";e.current=new Worker(_),e.current.onmessage=E=>{const{type:C,remaining:N}=E.data;C==="tick"&&i(P=>({...P,timeRemaining:N})),C==="complete"&&i(P=>{const M=P.sessionType===U.Work;return l("Coffee Pomodoro",M?"Time for a break!":"Time to work!"),P.currentSessionId&&(f(P.currentSessionId,!0),M&&r.current&&h(r.current)),{...P,status:"completed",timeRemaining:0}})};const x=()=>{document.visibilityState==="visible"&&e.current&&e.current.postMessage({action:"sync"})};return document.addEventListener("visibilitychange",x),()=>{var E;(E=e.current)==null||E.terminate(),document.removeEventListener("visibilitychange",x)}},[l]);const d=async(_,x)=>{const{data:{user:E}}=await Ne.auth.getUser();if(!E)return null;const C=_===U.Work?t.workDuration:_===U.ShortBreak?t.shortBreak:t.longBreak,{data:N,error:P}=await Ne.from("pomodoro_sessions").insert({user_id:E.id,task_id:x||null,type:_,duration_minutes:C,was_completed:!1,started_at:new Date().toISOString()}).select().single();return P?(console.error("Error saving session:",P),null):(N==null?void 0:N.id)||null},f=async(_,x)=>{await Ne.from("pomodoro_sessions").update({was_completed:x,completed_at:new Date().toISOString()}).eq("id",_)},h=async _=>{const{data:x}=await Ne.from("todo_tasks").select("completed_pomodoros").eq("id",_).single();x&&await Ne.from("todo_tasks").update({completed_pomodoros:x.completed_pomodoros+1}).eq("id",_)},m=O.useCallback(async _=>{var E;c(),r.current=_;const x=await d(s.sessionType,_);(E=e.current)==null||E.postMessage({action:"start",duration:s.timeRemaining}),i(C=>({...C,status:"running",currentSessionId:x}))},[c,s.sessionType,s.timeRemaining]),y=O.useCallback(()=>{var _;(_=e.current)==null||_.postMessage({action:"pause"}),i(x=>({...x,status:"paused"}))},[]),w=O.useCallback(()=>{var _;(_=e.current)==null||_.postMessage({action:"resume",remaining:s.timeRemaining}),i(x=>({...x,status:"running"}))},[s.timeRemaining]),b=O.useCallback(async()=>{var _;(_=e.current)==null||_.postMessage({action:"stop"}),s.currentSessionId&&await f(s.currentSessionId,!1),i(x=>({...x,status:"idle",timeRemaining:n(x.sessionType),currentSessionId:null}))},[n,s.currentSessionId]),g=O.useCallback(async()=>{var _;(_=e.current)==null||_.postMessage({action:"stop"}),s.currentSessionId&&await f(s.currentSessionId,!1),i(x=>{const E=x.sessionType===U.Work,C=E?x.completedSessions+1:x.completedSessions;let N;return E?N=C%t.sessionsBeforeLongBreak===0?U.LongBreak:U.ShortBreak:N=U.Work,{status:"idle",sessionType:N,timeRemaining:n(N),completedSessions:C,currentSessionId:null}})},[n,t.sessionsBeforeLongBreak,s.currentSessionId]),p=O.useCallback(_=>{var x;(x=e.current)==null||x.postMessage({action:"stop"}),i(E=>({...E,status:"idle",sessionType:_,timeRemaining:n(_),currentSessionId:null}))},[n]),v=O.useCallback(()=>{i(_=>({..._,timeRemaining:_.timeRemaining+60}))},[]),k=O.useCallback(()=>{i(_=>({..._,timeRemaining:Math.max(60,_.timeRemaining-60)}))},[]);return O.useEffect(()=>{if(s.status==="completed"){const _=setTimeout(()=>{i(x=>{const E=x.sessionType===U.Work,C=E?x.completedSessions+1:x.completedSessions;let N;return E?N=C%t.sessionsBeforeLongBreak===0?U.LongBreak:U.ShortBreak:N=U.Work,{status:"idle",sessionType:N,timeRemaining:n(N),completedSessions:C,currentSessionId:null}})},3e3);return()=>clearTimeout(_)}},[s.status,n,t.sessionsBeforeLongBreak]),{state:s,progress:o,formattedTime:a,start:m,pause:y,resume:w,reset:b,skip:g,setSessionType:p,addTime:v,subtractTime:k}}function gw(){const t=O.useRef(null);O.useEffect(()=>{const s="/Coffee-Pomodoro/notification.mp3";t.current=new Audio(s),t.current.volume=.5,t.current.load()},[]);const e=O.useCallback(()=>{try{t.current&&(t.current.currentTime=0,t.current.play().catch(s=>{console.log("Audio play failed:",s)}))}catch(s){console.log("Audio not supported:",s)}},[]),r=O.useCallback(async()=>{"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()},[]),n=O.useCallback((s,i)=>{if(e(),"Notification"in window&&Notification.permission==="granted"){const o="/Coffee-Pomodoro/icon-192.png";new Notification(s,{body:i,icon:o,badge:o,tag:"pomodoro-timer",requireInteraction:!0})}},[e]);return{playSound:e,sendBrowserNotification:n,requestNotificationPermission:r}}function vw({selectedTaskId:t,onSessionComplete:e}){const{state:r,progress:n,formattedTime:s,start:i,pause:o,resume:a,reset:l,skip:c,setSessionType:d,addTime:f,subtractTime:h}=mw(),{sendBrowserNotification:m,requestNotificationPermission:y}=gw(),[w,b]=O.useState(!1),[g,p]=O.useState(!1),[v,k]=O.useState(U.Work),[_,x]=O.useState(()=>{const H=localStorage.getItem("caffe-pomodoro-settings");if(H)try{return JSON.parse(H)}catch{return{workDuration:25,shortBreak:5,longBreak:15,sessionsBeforeLongBreak:4}}return{workDuration:25,shortBreak:5,longBreak:15,sessionsBeforeLongBreak:4}});O.useEffect(()=>{if(r.status==="completed"){k(r.sessionType),p(!0);const H=r.sessionType===U.Work;m(H?" Pomodoro Complete!":" Break Over!",H?"Time for a well-deserved break!":"Ready to get back to work?")}},[r.status,r.sessionType,m]);const E=()=>{p(!1)},C=r.status==="running",N=r.status==="paused",P=r.status==="idle",M=r.status==="completed",ie=()=>{y(),i(t)},X=()=>{r.sessionType===U.Work&&(e==null||e(r.sessionType)),c()},ve=()=>{localStorage.setItem("caffe-pomodoro-settings",JSON.stringify(_)),window.location.reload()},Oe=()=>{switch(r.sessionType){case U.Work:return"Work Time";case U.ShortBreak:return"Short Break";case U.LongBreak:return"Long Break"}},de=()=>{switch(r.sessionType){case U.Work:return u.jsx(ze,{className:"w-5 h-5"});case U.ShortBreak:return u.jsx(Bn,{className:"w-5 h-5"});case U.LongBreak:return u.jsx(Fn,{className:"w-5 h-5"})}};return u.jsxs(u.Fragment,{children:[u.jsx(hw,{isOpen:g,sessionType:v,onClose:E}),u.jsxs("div",{className:"flex flex-col items-center gap-6",children:[u.jsxs("div",{className:"flex gap-2 p-1 bg-coffee-100 dark:bg-coffee-800 rounded-full",children:[u.jsxs("button",{"aria-label":"Work session",onClick:()=>d(U.Work),className:`flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all ${r.sessionType===U.Work?"bg-espresso-600 text-white shadow-lg":"text-coffee-700 dark:text-coffee-200 hover:bg-coffee-200 dark:hover:bg-coffee-700"}`,disabled:C,children:[u.jsx(ze,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Work"})]}),u.jsxs("button",{"aria-label":"Short break",onClick:()=>d(U.ShortBreak),className:`flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all ${r.sessionType===U.ShortBreak?"bg-emerald-600 text-white shadow-lg":"text-coffee-700 dark:text-coffee-200 hover:bg-coffee-200 dark:hover:bg-coffee-700"}`,disabled:C,children:[u.jsx(Bn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Short"})]}),u.jsxs("button",{"aria-label":"Long break",onClick:()=>d(U.LongBreak),className:`flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all ${r.sessionType===U.LongBreak?"bg-sky-600 text-white shadow-lg":"text-coffee-700 dark:text-coffee-200 hover:bg-coffee-200 dark:hover:bg-coffee-700"}`,disabled:C,children:[u.jsx(Fn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Long"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-coffee-700 dark:text-coffee-200",children:[de(),u.jsx("span",{className:"font-display text-lg",children:Oe()})]}),u.jsxs("div",{className:"relative",children:[u.jsx(fw,{progress:n,sessionType:r.sessionType,isRunning:C}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:u.jsx("div",{className:"bg-white/80 dark:bg-coffee-900/80 backdrop-blur-sm px-6 py-3 rounded-2xl shadow-lg mt-12",children:u.jsx("span",{className:"font-display text-5xl font-bold text-coffee-800 dark:text-coffee-100 tabular-nums",children:s})})})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{type:"button","aria-label":"Subtract 1 minute",onClick:h,disabled:C||r.timeRemaining<=60,className:"flex items-center justify-center w-10 h-10 rounded-full bg-coffee-100 dark:bg-coffee-800 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-200 dark:hover:bg-coffee-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u.jsx(Is,{className:"w-5 h-5"})}),u.jsx("span",{className:"text-sm text-coffee-500 dark:text-coffee-400",children:"Adjust time"}),u.jsx("button",{type:"button","aria-label":"Add 1 minute",onClick:f,disabled:C,className:"flex items-center justify-center w-10 h-10 rounded-full bg-coffee-100 dark:bg-coffee-800 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-200 dark:hover:bg-coffee-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u.jsx(Tn,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-coffee-600 dark:text-coffee-300",children:"Sessions completed:"}),u.jsx("div",{className:"flex gap-1",children:Array.from({length:4}).map((H,T)=>u.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${T<r.completedSessions%4?"bg-espresso-500":"bg-coffee-200 dark:bg-coffee-700"}`},T))}),u.jsxs("span",{className:"text-sm font-medium text-espresso-600 dark:text-espresso-400",children:["(",r.completedSessions,")"]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{type:"button",onClick:l,className:"p-3 rounded-full bg-coffee-100 dark:bg-coffee-800 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-200 dark:hover:bg-coffee-700 transition-colors","aria-label":"Reset timer",children:u.jsx(dh,{className:"w-6 h-6"})}),P||M?u.jsxs("button",{type:"button",onClick:ie,"aria-label":"Start timer",className:"flex items-center gap-2 px-8 py-4 rounded-full bg-gradient-to-r from-espresso-500 to-espresso-600 text-white font-medium text-lg shadow-lg hover:shadow-xl hover:from-espresso-600 hover:to-espresso-700 transition-all transform hover:scale-105",children:[u.jsx(Sc,{className:"w-6 h-6"}),M?"Next":"Start"]}):N?u.jsxs("button",{type:"button",onClick:a,"aria-label":"Resume timer",className:"flex items-center gap-2 px-8 py-4 rounded-full bg-gradient-to-r from-espresso-500 to-espresso-600 text-white font-medium text-lg shadow-lg hover:shadow-xl hover:from-espresso-600 hover:to-espresso-700 transition-all transform hover:scale-105",children:[u.jsx(Sc,{className:"w-6 h-6"}),"Resume"]}):u.jsxs("button",{type:"button",onClick:o,"aria-label":"Pause timer",className:"flex items-center gap-2 px-8 py-4 rounded-full bg-gradient-to-r from-amber-500 to-amber-600 text-white font-medium text-lg shadow-lg hover:shadow-xl hover:from-amber-600 hover:to-amber-700 transition-all",children:[u.jsx(Tg,{className:"w-6 h-6"}),"Pause"]}),u.jsx("button",{type:"button",onClick:X,className:"p-3 rounded-full bg-coffee-100 dark:bg-coffee-800 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-200 dark:hover:bg-coffee-700 transition-colors","aria-label":"Skip session",children:u.jsx(Cg,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"w-full max-w-md mt-4",children:[u.jsxs("button",{type:"button",onClick:()=>b(!w),className:"w-full flex items-center justify-center gap-2 py-2 text-coffee-600 dark:text-coffee-300 hover:text-espresso-500 transition-colors",children:[u.jsx(fh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Timer Settings"}),w?u.jsx(Fa,{className:"w-4 h-4"}):u.jsx(Ba,{className:"w-4 h-4"})]}),w&&u.jsxs("div",{className:"mt-4 p-4 bg-coffee-50 dark:bg-coffee-800 rounded-xl space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("label",{htmlFor:"settings-work",className:"flex items-center gap-2 text-sm text-coffee-700 dark:text-coffee-200",children:[u.jsx(ze,{className:"w-4 h-4 text-espresso-500"}),"Work"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button","aria-label":"Decrease work duration",onClick:()=>x({..._,workDuration:Math.max(1,_.workDuration-1)}),className:"w-8 h-8 rounded-full bg-coffee-200 dark:bg-coffee-700 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-300 dark:hover:bg-coffee-600",children:u.jsx(Is,{className:"w-4 h-4 mx-auto"})}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"settings-work",type:"text",inputMode:"numeric",value:_.workDuration,onChange:H=>{const T=H.target.value.replace(/\D/g,"");x({..._,workDuration:T===""?"":parseInt(T)})},onBlur:H=>{const T=parseInt(H.target.value)||25;x({..._,workDuration:Math.min(60,Math.max(1,T))})},className:"w-14 text-center font-medium text-coffee-800 dark:text-coffee-100 bg-white dark:bg-coffee-900 border border-coffee-200 dark:border-coffee-600 rounded-lg py-1 focus:outline-none focus:ring-2 focus:ring-espresso-500"}),u.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-coffee-400",children:"m"})]}),u.jsx("button",{type:"button","aria-label":"Increase work duration",onClick:()=>x({..._,workDuration:Math.min(60,(parseInt(_.workDuration)||0)+1)}),className:"w-8 h-8 rounded-full bg-coffee-200 dark:bg-coffee-700 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-300 dark:hover:bg-coffee-600",children:u.jsx(Tn,{className:"w-4 h-4 mx-auto"})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("label",{htmlFor:"settings-short",className:"flex items-center gap-2 text-sm text-coffee-700 dark:text-coffee-200",children:[u.jsx(Bn,{className:"w-4 h-4 text-emerald-500"}),"Short Break"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button","aria-label":"Decrease short break duration",onClick:()=>x({..._,shortBreak:Math.max(1,_.shortBreak-1)}),className:"w-8 h-8 rounded-full bg-coffee-200 dark:bg-coffee-700 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-300 dark:hover:bg-coffee-600",children:u.jsx(Is,{className:"w-4 h-4 mx-auto"})}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"settings-short",type:"text",inputMode:"numeric",value:_.shortBreak,onChange:H=>{const T=H.target.value.replace(/\D/g,"");x({..._,shortBreak:T===""?"":parseInt(T)})},onBlur:H=>{const T=parseInt(H.target.value)||5;x({..._,shortBreak:Math.min(30,Math.max(1,T))})},className:"w-14 text-center font-medium text-coffee-800 dark:text-coffee-100 bg-white dark:bg-coffee-900 border border-coffee-200 dark:border-coffee-600 rounded-lg py-1 focus:outline-none focus:ring-2 focus:ring-espresso-500"}),u.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-coffee-400",children:"m"})]}),u.jsx("button",{type:"button","aria-label":"Increase short break duration",onClick:()=>x({..._,shortBreak:Math.min(30,(parseInt(_.shortBreak)||0)+1)}),className:"w-8 h-8 rounded-full bg-coffee-200 dark:bg-coffee-700 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-300 dark:hover:bg-coffee-600",children:u.jsx(Tn,{className:"w-4 h-4 mx-auto"})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("label",{htmlFor:"settings-long",className:"flex items-center gap-2 text-sm text-coffee-700 dark:text-coffee-200",children:[u.jsx(Fn,{className:"w-4 h-4 text-sky-500"}),"Long Break"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button","aria-label":"Decrease long break duration",onClick:()=>x({..._,longBreak:Math.max(1,_.longBreak-1)}),className:"w-8 h-8 rounded-full bg-coffee-200 dark:bg-coffee-700 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-300 dark:hover:bg-coffee-600",children:u.jsx(Is,{className:"w-4 h-4 mx-auto"})}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"settings-long",type:"text",inputMode:"numeric",value:_.longBreak,onChange:H=>{const T=H.target.value.replace(/\D/g,"");x({..._,longBreak:T===""?"":parseInt(T)})},onBlur:H=>{const T=parseInt(H.target.value)||15;x({..._,longBreak:Math.min(60,Math.max(1,T))})},className:"w-14 text-center font-medium text-coffee-800 dark:text-coffee-100 bg-white dark:bg-coffee-900 border border-coffee-200 dark:border-coffee-600 rounded-lg py-1 focus:outline-none focus:ring-2 focus:ring-espresso-500"}),u.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-coffee-400",children:"m"})]}),u.jsx("button",{type:"button","aria-label":"Increase long break duration",onClick:()=>x({..._,longBreak:Math.min(60,(parseInt(_.longBreak)||0)+1)}),className:"w-8 h-8 rounded-full bg-coffee-200 dark:bg-coffee-700 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-300 dark:hover:bg-coffee-600",children:u.jsx(Tn,{className:"w-4 h-4 mx-auto"})})]})]}),u.jsx("button",{type:"button",onClick:ve,className:"w-full py-2 mt-2 bg-espresso-500 text-white rounded-lg hover:bg-espresso-600 transition-colors font-medium",children:"Save Settings"})]})]})]})]})}const yw="https://coffee-pomodoro.onrender.com/api";async function ww(t){try{const e=await fetch(`${yw}/ai/suggest`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskTitle:t})});if(!e.ok)throw new Error("Failed to get suggestions");return await e.json()}catch(e){return console.error("AI suggestion error:",e),_w(t)}}function _w(t){const e=t.toLowerCase();return e.includes("meeting")||e.includes("reunin")||e.includes("call")?{tags:[" Meeting"," Work"],category:"Work",priority:"High",estimatedPomodoros:2}:e.includes("email")||e.includes("correo")?{tags:[" Email"," Work"],category:"Work",priority:"Medium",estimatedPomodoros:1}:e.includes("study")||e.includes("estudiar")||e.includes("learn")?{tags:[" Study"," Learning"],category:"Study",priority:"Medium",estimatedPomodoros:2}:e.includes("exercise")||e.includes("gym")||e.includes("ejercicio")?{tags:[" Exercise"," Health"],category:"Health",priority:"Medium",estimatedPomodoros:2}:e.includes("buy")||e.includes("comprar")||e.includes("shop")?{tags:[" Shopping"],category:"Shopping",priority:"Low",estimatedPomodoros:1}:{tags:[" Task"],category:"Other",priority:"Medium",estimatedPomodoros:1}}function kw({selectedTaskId:t,onSelectTask:e}){const{user:r}=ms(),[n,s]=O.useState([]),[i,o]=O.useState(""),[a,l]=O.useState(""),[c,d]=O.useState(1),[f,h]=O.useState(""),[m,y]=O.useState([]),[w,b]=O.useState("Other"),[g,p]=O.useState("Medium"),[v,k]=O.useState(1),[_,x]=O.useState(""),[E,C]=O.useState(!1),[N,P]=O.useState(!0),[M,ie]=O.useState(!1),[X,ve]=O.useState(!0),[Oe,de]=O.useState(!1),[H,T]=O.useState(!1),[L,D]=O.useState(null),[K,F]=O.useState(""),be=localStorage.getItem("caffe-pomodoro-guest")==="true";O.useEffect(()=>{if(r)ft();else if(be){const S=localStorage.getItem("caffe-pomodoro-tasks");if(S)try{s(JSON.parse(S))}catch{s([])}ve(!1)}},[r]),O.useEffect(()=>{!r&&n.length>0&&localStorage.setItem("caffe-pomodoro-tasks",JSON.stringify(n))},[n,r]);const ft=async()=>{ve(!0);const{data:S,error:V}=await Ne.from("todo_tasks").select("*").order("due_date",{ascending:!0,nullsFirst:!1}).order("display_order",{ascending:!0});V?console.error("Error loading tasks:",V):s(S||[]),ve(!1)},hn=async()=>{if(i.trim()){de(!0);try{const S=await ww(i);y(S.tags),b(S.category),p(S.priority),k(S.estimatedPomodoros),T(!0)}catch(S){console.error("Error getting AI suggestions:",S)}de(!1)}},wt=async S=>{if(S.preventDefault(),!i.trim())return;const V={title:i.trim(),is_completed:!1,completed_pomodoros:0,estimated_pomodoros:v,due_date:a||null,duration_days:c,notes:f.trim()||null,tags:m,category:w,priority:g};if(r){const{data:te,error:fe}=await Ne.from("todo_tasks").insert({user_id:r.id,...V,display_order:n.length}).select().single();fe?console.error("Error adding task:",fe):te&&s(pn=>[...pn,te])}else{const te={...V,id:Date.now().toString()};s(fe=>[...fe,te])}er()},er=()=>{o(""),l(""),d(1),h(""),y([]),b("Other"),p("Medium"),k(1),C(!1),T(!1),x("")},cu=async S=>{const V=n.find(fe=>fe.id===S);if(!V)return;const te=!V.is_completed;if(r){const{error:fe}=await Ne.from("todo_tasks").update({is_completed:te,completed_at:te?new Date().toISOString():null}).eq("id",S);if(fe){console.error("Error updating task:",fe);return}}s(fe=>fe.map(pn=>pn.id===S?{...pn,is_completed:te}:pn)),S===t&&e(void 0)},du=async S=>{if(r){const{error:V}=await Ne.from("todo_tasks").delete().eq("id",S);if(V){console.error("Error deleting task:",V);return}}s(V=>V.filter(te=>te.id!==S)),S===t&&e(void 0)},Up=S=>{e(t===S?void 0:S)},Mp=S=>{D(S.id),F(S.notes||"")},Bp=async()=>{if(L){if(r){const{error:S}=await Ne.from("todo_tasks").update({notes:K.trim()||null}).eq("id",L);if(S){console.error("Error updating notes:",S);return}}s(S=>S.map(V=>V.id===L?{...V,notes:K.trim()||null}:V)),D(null),F("")}},Fp=S=>{y(V=>V.filter(te=>te!==S))},fu=()=>{_.trim()&&!m.includes(_.trim())&&(y(S=>[...S,_.trim()]),x(""))},zp=S=>{if(!S)return null;const V=new Date(S),te=new Date;te.setHours(0,0,0,0),V.setHours(0,0,0,0);const fe=Math.ceil((V.getTime()-te.getTime())/(1e3*60*60*24));return fe<0?{text:"Overdue",color:"text-red-500"}:fe===0?{text:"Today",color:"text-amber-500"}:fe===1?{text:"Tomorrow",color:"text-blue-500"}:fe<=7?{text:`${fe} days`,color:"text-emerald-500"}:{text:V.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),color:"text-coffee-500"}},hu=S=>{switch(S){case"High":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"Medium":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"Low":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400";default:return"bg-coffee-100 text-coffee-700 dark:bg-coffee-800 dark:text-coffee-300"}},fo=n.filter(S=>!S.is_completed),ho=n.filter(S=>S.is_completed);return X?u.jsx("div",{className:"bg-white dark:bg-coffee-900 rounded-2xl shadow-lg p-8 border border-coffee-200 dark:border-coffee-700",children:u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"w-6 h-6 border-2 border-coffee-200 border-t-espresso-500 rounded-full animate-spin"}),u.jsx("span",{className:"ml-2 text-coffee-500",children:"Loading tasks..."})]})}):u.jsxs("div",{className:"bg-white dark:bg-coffee-900 rounded-2xl shadow-lg overflow-hidden border border-coffee-200 dark:border-coffee-700",children:[L&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:u.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-coffee-800 rounded-2xl shadow-xl p-6 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"font-semibold text-coffee-800 dark:text-coffee-100 flex items-center gap-2",children:[u.jsx(As,{className:"w-5 h-5 text-espresso-500"}),"Task Notes"]}),u.jsx("button",{onClick:()=>D(null),className:"p-1 text-coffee-400 hover:text-coffee-600","aria-label":"Close",children:u.jsx(Pi,{className:"w-5 h-5"})})]}),u.jsx("textarea",{value:K,onChange:S=>F(S.target.value),placeholder:"Add notes for this task...",rows:5,"aria-label":"Task notes",className:"w-full px-4 py-3 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-900 text-coffee-800 dark:text-coffee-100 focus:outline-none focus:ring-2 focus:ring-espresso-500 resize-none"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:Bp,className:"flex-1 py-2 rounded-lg bg-espresso-500 text-white font-medium hover:bg-espresso-600 transition-colors",children:"Save Notes"}),u.jsx("button",{onClick:()=>D(null),className:"px-4 py-2 rounded-lg bg-coffee-200 dark:bg-coffee-700 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-300 dark:hover:bg-coffee-600 transition-colors",children:"Cancel"})]})]})}),u.jsxs("button",{type:"button","aria-label":"Expand or collapse tasks",onClick:()=>P(!N),className:"w-full flex items-center justify-between p-4 bg-coffee-50 dark:bg-coffee-800",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ze,{className:"w-5 h-5 text-espresso-500"}),u.jsxs("h2",{className:"text-lg font-semibold text-coffee-800 dark:text-coffee-100",children:["Tasks (",fo.length,")"]})]}),N?u.jsx(Fa,{className:"w-5 h-5"}):u.jsx(Ba,{className:"w-5 h-5"})]}),N&&u.jsxs("div",{className:"p-4 space-y-4",children:[E?u.jsxs("form",{onSubmit:wt,className:"space-y-3 p-4 bg-coffee-50 dark:bg-coffee-800 rounded-xl",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{htmlFor:"new-task-title",className:"sr-only",children:"Task name"}),u.jsx("input",{id:"new-task-title",type:"text",value:i,onChange:S=>{o(S.target.value),T(!1)},placeholder:"Task name...",autoFocus:!0,"aria-label":"Task name",className:"w-full px-4 py-2 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-900 text-coffee-800 dark:text-coffee-100 focus:outline-none focus:ring-2 focus:ring-espresso-500"})]}),u.jsx("button",{type:"button",onClick:hn,disabled:!i.trim()||Oe,className:"px-3 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-indigo-500 text-white disabled:opacity-50 hover:from-purple-600 hover:to-indigo-600 transition-all flex items-center gap-1","aria-label":"Get AI suggestions",children:Oe?u.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):u.jsx(Ec,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center gap-1 text-xs text-coffee-500 dark:text-coffee-400",children:[u.jsx(Pg,{className:"w-3 h-3"}),"Tags"]}),m.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1",children:m.map((S,V)=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full bg-espresso-100 dark:bg-espresso-800 text-espresso-700 dark:text-espresso-200 border border-espresso-200 dark:border-espresso-600",children:[S,u.jsx("button",{type:"button",onClick:()=>Fp(S),className:"hover:text-red-500","aria-label":`Remove tag ${S}`,children:u.jsx(Pi,{className:"w-3 h-3"})})]},V))}),u.jsx("div",{className:"flex flex-wrap gap-1",children:[" Work"," Study"," Home"," Health"," Email"," Meeting"," Shopping"," Finance"," Creative"," Maintenance"].map(S=>u.jsx("button",{type:"button",onClick:()=>{m.includes(S)||y(V=>[...V,S])},disabled:m.includes(S),className:`px-2 py-1 text-xs rounded-full border transition-colors ${m.includes(S)?"bg-coffee-200 dark:bg-coffee-700 text-coffee-400 dark:text-coffee-500 border-coffee-200 dark:border-coffee-700 cursor-not-allowed":"bg-white dark:bg-coffee-900 text-coffee-600 dark:text-coffee-300 border-coffee-200 dark:border-coffee-600 hover:border-espresso-500 hover:text-espresso-500"}`,children:S},S))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:_,onChange:S=>x(S.target.value),onKeyDown:S=>{S.key==="Enter"&&(S.preventDefault(),fu())},placeholder:"Add custom tag...","aria-label":"Custom tag",className:"flex-1 px-3 py-1.5 text-sm rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-900 text-coffee-800 dark:text-coffee-100 focus:outline-none focus:ring-2 focus:ring-espresso-500"}),u.jsx("button",{type:"button",onClick:fu,disabled:!_.trim(),className:"px-3 py-1.5 text-sm rounded-lg bg-coffee-200 dark:bg-coffee-700 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-300 dark:hover:bg-coffee-600 disabled:opacity-50 transition-colors",children:"Add"})]})]}),H&&u.jsxs("div",{className:"p-3 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-700 dark:text-purple-300 mb-2",children:[u.jsx(Ec,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:"AI Suggestions Applied"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[u.jsxs("span",{className:"px-2 py-1 rounded-full bg-white dark:bg-coffee-800 text-coffee-600 dark:text-coffee-300",children:[" ",w]}),u.jsxs("span",{className:`px-2 py-1 rounded-full ${hu(g)}`,children:[" ",g]}),u.jsxs("span",{className:"px-2 py-1 rounded-full bg-white dark:bg-coffee-800 text-coffee-600 dark:text-coffee-300",children:[" ",v," pomodoro",v>1?"s":""]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{htmlFor:"new-task-priority",className:"flex items-center gap-1 text-xs text-coffee-500 dark:text-coffee-400 mb-1",children:" Priority"}),u.jsxs("select",{id:"new-task-priority",value:g,onChange:S=>p(S.target.value),"aria-label":"Priority",className:"w-full px-3 py-2 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-900 text-coffee-800 dark:text-coffee-100 text-sm focus:outline-none focus:ring-2 focus:ring-espresso-500",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{htmlFor:"new-task-category",className:"flex items-center gap-1 text-xs text-coffee-500 dark:text-coffee-400 mb-1",children:" Category"}),u.jsxs("select",{id:"new-task-category",value:w,onChange:S=>b(S.target.value),"aria-label":"Category",className:"w-full px-3 py-2 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-900 text-coffee-800 dark:text-coffee-100 text-sm focus:outline-none focus:ring-2 focus:ring-espresso-500",children:[u.jsx("option",{value:"Work",children:"Work"}),u.jsx("option",{value:"Personal",children:"Personal"}),u.jsx("option",{value:"Study",children:"Study"}),u.jsx("option",{value:"Health",children:"Health"}),u.jsx("option",{value:"Finance",children:"Finance"}),u.jsx("option",{value:"Shopping",children:"Shopping"}),u.jsx("option",{value:"Home",children:"Home"}),u.jsx("option",{value:"Other",children:"Other"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"new-task-notes",className:"flex items-center gap-1 text-xs text-coffee-500 dark:text-coffee-400 mb-1",children:[u.jsx(As,{className:"w-3 h-3"}),"Notes (optional)"]}),u.jsx("textarea",{id:"new-task-notes",value:f,onChange:S=>h(S.target.value),placeholder:"Add notes...",rows:2,"aria-label":"Task notes",className:"w-full px-3 py-2 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-900 text-coffee-800 dark:text-coffee-100 text-sm focus:outline-none focus:ring-2 focus:ring-espresso-500 resize-none"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("label",{htmlFor:"new-task-due-date",className:"flex items-center gap-1 text-xs text-coffee-500 dark:text-coffee-400 mb-1",children:[u.jsx(Ma,{className:"w-3 h-3"}),"Due date"]}),u.jsx("input",{id:"new-task-due-date",type:"date",value:a,onChange:S=>l(S.target.value),min:new Date().toISOString().split("T")[0],"aria-label":"Due date",className:"w-full px-3 py-2 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-900 text-coffee-800 dark:text-coffee-100 text-sm focus:outline-none focus:ring-2 focus:ring-espresso-500"})]}),u.jsxs("div",{className:"w-20",children:[u.jsxs("label",{htmlFor:"new-task-duration",className:"flex items-center gap-1 text-xs text-coffee-500 dark:text-coffee-400 mb-1",children:[u.jsx(za,{className:"w-3 h-3"}),"Days"]}),u.jsx("input",{id:"new-task-duration",type:"number",value:c,onChange:S=>d(Math.max(1,parseInt(S.target.value)||1)),min:"1",max:"30","aria-label":"Duration in days",className:"w-full px-3 py-2 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-900 text-coffee-800 dark:text-coffee-100 text-sm focus:outline-none focus:ring-2 focus:ring-espresso-500"})]}),u.jsxs("div",{className:"w-20",children:[u.jsxs("label",{htmlFor:"new-task-pomodoros",className:"flex items-center gap-1 text-xs text-coffee-500 dark:text-coffee-400 mb-1",children:[u.jsx(ze,{className:"w-3 h-3"}),"Est."]}),u.jsx("input",{id:"new-task-pomodoros",type:"number",value:v,onChange:S=>k(Math.max(1,parseInt(S.target.value)||1)),min:"1",max:"20","aria-label":"Estimated pomodoros",className:"w-full px-3 py-2 rounded-lg border border-coffee-200 dark:border-coffee-600 bg-white dark:bg-coffee-900 text-coffee-800 dark:text-coffee-100 text-sm focus:outline-none focus:ring-2 focus:ring-espresso-500"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"submit",disabled:!i.trim(),className:"flex-1 py-2 rounded-lg bg-espresso-500 text-white font-medium disabled:opacity-50 hover:bg-espresso-600 transition-colors",children:"Add Task"}),u.jsx("button",{type:"button",onClick:er,className:"px-4 py-2 rounded-lg bg-coffee-200 dark:bg-coffee-700 text-coffee-600 dark:text-coffee-300 hover:bg-coffee-300 dark:hover:bg-coffee-600 transition-colors",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>C(!0),className:"w-full flex items-center justify-center gap-2 py-3 border-2 border-dashed border-coffee-200 dark:border-coffee-700 rounded-xl text-coffee-500 hover:border-espresso-500 hover:text-espresso-500 transition-colors",children:[u.jsx(Tn,{className:"w-5 h-5"}),u.jsx("span",{children:"Add new task"})]}),fo.length===0?u.jsx("p",{className:"text-center py-8 text-coffee-500",children:"No pending tasks"}):u.jsx("ul",{className:"space-y-2",children:fo.map(S=>{const V=zp(S.due_date);return u.jsxs("li",{onClick:()=>Up(S.id),className:`group flex items-start gap-3 p-3 rounded-lg cursor-pointer bg-coffee-50 dark:bg-coffee-800 ${t===S.id?"ring-2 ring-espresso-500":""}`,children:[u.jsx("button",{type:"button","aria-label":"Mark as completed",onClick:te=>{te.stopPropagation(),cu(S.id)},className:"mt-0.5 text-coffee-400 hover:text-emerald-500",children:u.jsx(bg,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsx("span",{className:"text-coffee-800 dark:text-coffee-100",children:S.title}),S.priority&&S.priority!=="Medium"&&u.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${hu(S.priority)}`,children:S.priority})]}),S.tags&&S.tags.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:S.tags.map((te,fe)=>u.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-coffee-100 dark:bg-coffee-700 text-coffee-600 dark:text-coffee-300",children:te},fe))}),S.notes&&u.jsx("p",{className:"text-xs text-coffee-500 dark:text-coffee-400 mt-1 line-clamp-1",children:S.notes}),u.jsxs("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[u.jsxs("div",{className:"text-xs text-coffee-500 flex items-center gap-1",children:[u.jsx(ze,{className:"w-3 h-3"}),S.completed_pomodoros,"/",S.estimated_pomodoros]}),V&&u.jsxs("div",{className:`text-xs flex items-center gap-1 ${V.color}`,children:[u.jsx(Ma,{className:"w-3 h-3"}),V.text]}),S.duration_days>1&&u.jsxs("div",{className:"text-xs text-coffee-500 flex items-center gap-1",children:[u.jsx(za,{className:"w-3 h-3"}),S.duration_days,"d"]}),S.category&&S.category!=="Other"&&u.jsxs("div",{className:"text-xs text-coffee-500",children:[" ",S.category]}),S.notes&&u.jsx("div",{className:"text-xs text-coffee-500 flex items-center gap-1",children:u.jsx(As,{className:"w-3 h-3"})})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100",children:[u.jsx("button",{type:"button","aria-label":"Edit notes",onClick:te=>{te.stopPropagation(),Mp(S)},className:"p-1 text-coffee-400 hover:text-espresso-500",children:u.jsx(As,{className:"w-4 h-4"})}),u.jsx("button",{type:"button","aria-label":"Delete task",onClick:te=>{te.stopPropagation(),du(S.id)},className:"p-1 text-coffee-400 hover:text-red-500",children:u.jsx(jc,{className:"w-4 h-4"})})]})]},S.id)})}),ho.length>0&&u.jsxs("div",{className:"pt-4 border-t border-coffee-200 dark:border-coffee-700",children:[u.jsxs("button",{type:"button","aria-label":"Show completed tasks",onClick:()=>ie(!M),className:"text-sm text-coffee-500 flex items-center gap-2",children:[M?u.jsx(Fa,{className:"w-4 h-4"}):u.jsx(Ba,{className:"w-4 h-4"}),"Completed (",ho.length,")"]}),M&&u.jsx("ul",{className:"mt-2 space-y-2",children:ho.map(S=>u.jsxs("li",{className:"group flex items-center gap-3 p-3 rounded-lg bg-coffee-50/50 dark:bg-coffee-800/50",children:[u.jsx("button",{type:"button","aria-label":"Unmark task",onClick:()=>cu(S.id),className:"text-emerald-500",children:u.jsx(_g,{className:"w-5 h-5"})}),u.jsx("span",{className:"flex-1 text-coffee-500 line-through",children:S.title}),u.jsx("button",{type:"button","aria-label":"Delete task",onClick:()=>du(S.id),className:"opacity-0 group-hover:opacity-100 text-red-500",children:u.jsx(jc,{className:"w-4 h-4"})})]},S.id))})]})]})]})}function xw(){const{user:t}=ms(),[e,r]=O.useState(new Date),[n,s]=O.useState([]),[i,o]=O.useState(null),[a,l]=O.useState({currentStreak:0,bestStreak:0,thisWeek:0,thisMonth:0}),[c,d]=O.useState(!0),f=localStorage.getItem("caffe-pomodoro-guest")==="true";O.useEffect(()=>{t?m():f&&h()},[t,e]);const h=()=>{const N=localStorage.getItem("caffe-pomodoro-sessions");if(N)try{const P=JSON.parse(N);y(P)}catch{s([])}d(!1)},m=async()=>{d(!0);const N=e.getFullYear(),P=e.getMonth(),M=new Date(N,P-2,1),ie=new Date(N,P+1,0),{data:X,error:ve}=await Ne.from("pomodoro_sessions").select("started_at, was_completed").eq("was_completed",!0).eq("type",0).gte("started_at",M.toISOString()).lte("started_at",ie.toISOString()).order("started_at",{ascending:!0});if(ve){console.error("Error loading sessions:",ve),d(!1);return}y(X||[]),d(!1)},y=N=>{const P={};N.forEach(ie=>{const X=new Date(ie.started_at).toISOString().split("T")[0];P[X]=(P[X]||0)+1});const M=Object.entries(P).map(([ie,X])=>({date:ie,count:X}));s(M),w(M)},w=N=>{const P=new Date().toISOString().split("T")[0],M=N.map(F=>F.date).sort().reverse();let ie=0,X=new Date;for(M.includes(P)||X.setDate(X.getDate()-1);;){const F=X.toISOString().split("T")[0];if(M.includes(F))ie++,X.setDate(X.getDate()-1);else break}let ve=0,Oe=0,de=null;M.sort().forEach(F=>{const be=new Date(F);de&&Math.floor((be.getTime()-de.getTime())/864e5)===1?Oe++:Oe=1,ve=Math.max(ve,Oe),de=be});const H=new Date;H.setDate(H.getDate()-H.getDay()+1);const T=N.filter(F=>new Date(F.date)>=H).reduce((F,be)=>F+be.count,0),L=new Date(e.getFullYear(),e.getMonth(),1),D=new Date(e.getFullYear(),e.getMonth()+1,0),K=N.filter(F=>{const be=new Date(F.date);return be>=L&&be<=D}).reduce((F,be)=>F+be.count,0);l({currentStreak:ie,bestStreak:ve,thisWeek:T,thisMonth:K})},b=()=>{const N=e.getFullYear(),P=e.getMonth(),M=new Date(N,P,1),X=new Date(N,P+1,0).getDate(),ve=M.getDay()===0?6:M.getDay()-1,Oe=[];for(let de=0;de<ve;de++)Oe.push(null);for(let de=1;de<=X;de++)Oe.push(de);return Oe},g=N=>{const P=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(N).padStart(2,"0")}`,M=n.find(ie=>ie.date===P);return(M==null?void 0:M.count)||0},p=N=>N===0?"bg-coffee-100 dark:bg-coffee-800":N<=2?"bg-amber-200 dark:bg-amber-900":N<=4?"bg-amber-400 dark:bg-amber-700":"bg-espresso-500 dark:bg-espresso-400",v=N=>{const P=new Date;return N===P.getDate()&&e.getMonth()===P.getMonth()&&e.getFullYear()===P.getFullYear()},k=N=>{const P=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(N).padStart(2,"0")}`,M=g(N);o({date:P,count:M})},_=()=>{r(new Date(e.getFullYear(),e.getMonth()-1,1)),o(null)},x=()=>{r(new Date(e.getFullYear(),e.getMonth()+1,1)),o(null)},E=["January","February","March","April","May","June","July","August","September","October","November","December"],C=["M","T","W","T","F","S","S"];return c?u.jsx("div",{className:"bg-white dark:bg-coffee-900 rounded-2xl shadow-lg p-6 border border-coffee-200 dark:border-coffee-700",children:u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"w-6 h-6 border-2 border-coffee-200 border-t-espresso-500 rounded-full animate-spin"})})}):u.jsxs("div",{className:"bg-white dark:bg-coffee-900 rounded-2xl shadow-lg overflow-hidden border border-coffee-200 dark:border-coffee-700",children:[u.jsx("div",{className:"p-4 bg-coffee-50 dark:bg-coffee-800 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ma,{className:"w-5 h-5 text-espresso-500"}),u.jsx("h2",{className:"text-lg font-semibold text-coffee-800 dark:text-coffee-100",children:"Productivity"})]})}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-xl",children:[u.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-800 rounded-lg",children:u.jsx(Sg,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-coffee-800 dark:text-coffee-100",children:a.currentStreak}),u.jsx("p",{className:"text-xs text-coffee-500 dark:text-coffee-400",children:"Day streak"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 rounded-xl",children:[u.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-800 rounded-lg",children:u.jsx(Ag,{className:"w-5 h-5 text-yellow-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-coffee-800 dark:text-coffee-100",children:a.bestStreak}),u.jsx("p",{className:"text-xs text-coffee-500 dark:text-coffee-400",children:"Best streak"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 rounded-xl",children:[u.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-800 rounded-lg",children:u.jsx(Rg,{className:"w-5 h-5 text-emerald-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-coffee-800 dark:text-coffee-100",children:a.thisWeek}),u.jsx("p",{className:"text-xs text-coffee-500 dark:text-coffee-400",children:"This week"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-sky-50 to-blue-50 dark:from-sky-900/20 dark:to-blue-900/20 rounded-xl",children:[u.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-800 rounded-lg",children:u.jsx(ze,{className:"w-5 h-5 text-sky-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-coffee-800 dark:text-coffee-100",children:a.thisMonth}),u.jsx("p",{className:"text-xs text-coffee-500 dark:text-coffee-400",children:"This month"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{onClick:_,className:"p-2 hover:bg-coffee-100 dark:hover:bg-coffee-800 rounded-lg transition-colors","aria-label":"Previous month",children:u.jsx(kg,{className:"w-5 h-5 text-coffee-600 dark:text-coffee-300"})}),u.jsxs("h3",{className:"font-medium text-coffee-800 dark:text-coffee-100",children:[E[e.getMonth()]," ",e.getFullYear()]}),u.jsx("button",{onClick:x,className:"p-2 hover:bg-coffee-100 dark:hover:bg-coffee-800 rounded-lg transition-colors","aria-label":"Next month",children:u.jsx(xg,{className:"w-5 h-5 text-coffee-600 dark:text-coffee-300"})})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[C.map((N,P)=>u.jsx("div",{className:"text-center text-xs font-medium text-coffee-500 dark:text-coffee-400 py-2",children:N},P)),b().map((N,P)=>u.jsx("div",{className:"aspect-square",children:N&&u.jsx("button",{onClick:()=>k(N),className:`w-full h-full rounded-lg flex items-center justify-center text-sm transition-all
                    ${p(g(N))}
                    ${v(N)?"ring-2 ring-espresso-500 ring-offset-1":""}
                    ${g(N)>0?"text-coffee-800 dark:text-coffee-100 font-medium":"text-coffee-400 dark:text-coffee-500"}
                    hover:scale-110 hover:shadow-md
                  `,children:N})},P))]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-coffee-500 dark:text-coffee-400",children:[u.jsx("span",{children:"Less"}),u.jsx("div",{className:"w-4 h-4 rounded bg-coffee-100 dark:bg-coffee-800"}),u.jsx("div",{className:"w-4 h-4 rounded bg-amber-200 dark:bg-amber-900"}),u.jsx("div",{className:"w-4 h-4 rounded bg-amber-400 dark:bg-amber-700"}),u.jsx("div",{className:"w-4 h-4 rounded bg-espresso-500 dark:bg-espresso-400"}),u.jsx("span",{children:"More"})]}),i&&u.jsx("div",{className:"p-3 bg-coffee-50 dark:bg-coffee-800 rounded-xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-coffee-600 dark:text-coffee-300",children:new Date(i.date).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ze,{className:"w-4 h-4 text-espresso-500"}),u.jsxs("span",{className:"font-bold text-coffee-800 dark:text-coffee-100",children:[i.count," pomodoro",i.count!==1?"s":""]})]})]})})]})]})}function bw(){const{signIn:t,loading:e}=ms(),r=[{icon:u.jsx(ze,{className:"w-5 h-5"}),title:"Pomodoro Timer",description:"Stay focused with our coffee cup timer"},{icon:u.jsx(bc,{className:"w-5 h-5"}),title:"Task Management",description:"Organise and track your tasks"},{icon:u.jsx(za,{className:"w-5 h-5"}),title:"Customisable",description:"Adjust durations to your needs"},{icon:u.jsx(wg,{className:"w-5 h-5"}),title:"Statistics",description:"Track your productivity"}];return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cream-50 via-cream-100 to-coffee-100 dark:from-coffee-900 dark:via-coffee-900 dark:to-espresso-900 flex flex-col",children:[u.jsx("header",{className:"p-4 md:p-6",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-1.5 md:p-2 bg-gradient-to-br from-espresso-500 to-espresso-700 rounded-lg md:rounded-xl shadow-lg",children:u.jsx(ze,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),u.jsx("h1",{className:"font-display text-lg md:text-xl font-bold text-coffee-800 dark:text-coffee-100",children:"Coffee Pomodoro"})]})}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-4 md:p-6",children:u.jsxs("div",{className:"w-full max-w-4xl grid md:grid-cols-2 gap-6 md:gap-12 items-center",children:[u.jsx("div",{className:"flex justify-center order-1 md:order-2",children:u.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-coffee-800 rounded-2xl md:rounded-3xl shadow-xl md:shadow-2xl p-6 md:p-8 space-y-4 md:space-y-6",children:[u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 md:w-24 md:h-24 bg-gradient-to-br from-espresso-400 to-espresso-600 rounded-full flex items-center justify-center shadow-lg",children:u.jsx(ze,{className:"w-8 h-8 md:w-12 md:h-12 text-white"})}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 md:w-8 md:h-8 bg-emerald-500 rounded-full flex items-center justify-center shadow-md",children:u.jsx(bc,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})})]})}),u.jsxs("div",{className:"text-center space-y-1",children:[u.jsx("h3",{className:"font-display text-xl md:text-2xl font-bold text-coffee-800 dark:text-coffee-100",children:"Welcome"}),u.jsx("p",{className:"text-coffee-500 dark:text-coffee-400 text-xs md:text-sm",children:"Sign in to start your productivity journey"})]}),u.jsx("button",{onClick:t,disabled:e,className:"w-full flex items-center justify-center gap-3 px-4 py-3 md:px-6 md:py-4 rounded-xl bg-white dark:bg-coffee-700 border-2 border-coffee-200 dark:border-coffee-600 text-coffee-800 dark:text-coffee-100 font-medium hover:bg-coffee-50 dark:hover:bg-coffee-600 hover:border-espresso-300 transition-all shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:e?u.jsx("div",{className:"w-5 h-5 border-2 border-coffee-300 border-t-espresso-500 rounded-full animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),u.jsx("span",{children:"Continue with Google"})]})}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-coffee-200 dark:border-coffee-600"})}),u.jsx("div",{className:"relative flex justify-center text-xs",children:u.jsx("span",{className:"px-2 bg-white dark:bg-coffee-800 text-coffee-400",children:"or"})})]}),u.jsx("button",{onClick:()=>{localStorage.setItem("caffe-pomodoro-guest","true"),window.location.reload()},className:"w-full px-4 py-2.5 md:px-6 md:py-3 rounded-xl bg-coffee-100 dark:bg-coffee-700 text-coffee-700 dark:text-coffee-200 font-medium hover:bg-coffee-200 dark:hover:bg-coffee-600 transition-colors text-sm md:text-base",children:"Continue as Guest"}),u.jsx("p",{className:"text-xs text-center text-coffee-400 dark:text-coffee-500",children:"By continuing, you agree to our Terms of Service"})]})}),u.jsxs("div",{className:"hidden md:block space-y-8 order-2 md:order-1",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h2",{className:"font-display text-4xl lg:text-5xl font-bold text-coffee-800 dark:text-coffee-100 leading-tight",children:["Boost your",u.jsx("span",{className:"text-espresso-500",children:" productivity"}),u.jsx("br",{}),"with style"]}),u.jsx("p",{className:"text-lg text-coffee-600 dark:text-coffee-300",children:"A beautiful Pomodoro timer that helps you stay focused and be more productive."})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.map((n,s)=>u.jsxs("div",{className:"p-4 bg-white/50 dark:bg-coffee-800/50 rounded-xl backdrop-blur-sm",children:[u.jsx("div",{className:"text-espresso-500 mb-2",children:n.icon}),u.jsx("h3",{className:"font-medium text-coffee-800 dark:text-coffee-100 text-sm",children:n.title}),u.jsx("p",{className:"text-xs text-coffee-500 dark:text-coffee-400 mt-1",children:n.description})]},s))})]}),u.jsx("div",{className:"flex justify-center gap-6 order-3 md:hidden mt-4",children:r.slice(0,4).map((n,s)=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-espresso-500 flex justify-center mb-1",children:n.icon}),u.jsx("p",{className:"text-xs text-coffee-600 dark:text-coffee-300",children:n.title})]},s))})]})}),u.jsx("footer",{className:"p-4 text-center text-xs md:text-sm text-coffee-500 dark:text-coffee-400",children:"Made with  and  by Adrian"})]})}const Qc="caffe-pomodoro-pending-actions";function Sw(){const[t,e]=O.useState(navigator.onLine),[r,n]=O.useState([]),[s,i]=O.useState(!1);O.useEffect(()=>{const c=localStorage.getItem(Qc);if(c)try{n(JSON.parse(c))}catch{n([])}},[]),O.useEffect(()=>{localStorage.setItem(Qc,JSON.stringify(r))},[r]),O.useEffect(()=>{const c=()=>e(!0),d=()=>e(!1);return window.addEventListener("online",c),window.addEventListener("offline",d),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",d)}},[]);const o=O.useCallback(c=>{const d={...c,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};n(f=>[...f,d])},[]),a=O.useCallback(c=>{n(d=>d.filter(f=>f.id!==c))},[]),l=O.useCallback(()=>{n([])},[]);return{isOnline:t,pendingActions:r,isSyncing:s,setIsSyncing:i,addPendingAction:o,removePendingAction:a,clearPendingActions:l}}function Ew(){const{isOnline:t,pendingActions:e}=Sw();return t&&e.length===0?null:u.jsx("div",{className:`fixed bottom-4 left-4 z-50 flex items-center gap-2 px-4 py-2 rounded-full shadow-lg ${t?"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"}`,children:t?u.jsxs(u.Fragment,{children:[u.jsx(Ng,{className:"w-4 h-4 animate-spin"}),u.jsxs("span",{className:"text-sm font-medium",children:["Syncing ",e.length," changes..."]})]}):u.jsxs(u.Fragment,{children:[u.jsx($g,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Offline mode"}),e.length>0&&u.jsxs("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-full",children:[e.length," pending"]})]})})}function jw(){const{user:t,loading:e}=ms(),[r,n]=O.useState(),s=localStorage.getItem("caffe-pomodoro-guest")==="true",i=o=>{o===U.Work&&console.log("Work session completed for task:",r)};return e?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cream-50 via-cream-100 to-coffee-100 dark:from-coffee-900 dark:via-coffee-900 dark:to-espresso-900 flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-coffee-200 border-t-espresso-500 rounded-full animate-spin mx-auto"}),u.jsx("p",{className:"text-coffee-600 dark:text-coffee-300",children:"Loading..."})]})}):!t&&!s?u.jsx(bw,{}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cream-50 via-cream-100 to-coffee-100 dark:from-coffee-900 dark:via-coffee-900 dark:to-espresso-900 transition-colors duration-500",children:[u.jsx(dw,{}),u.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:u.jsxs("div",{className:"grid lg:grid-cols-[1fr,380px] gap-8",children:[u.jsx("section",{className:"glass-card p-8",children:u.jsx(vw,{selectedTaskId:r,onSessionComplete:i})}),u.jsxs("aside",{className:"space-y-4",children:[u.jsx(kw,{selectedTaskId:r,onSelectTask:n}),u.jsx(xw,{}),s&&!t&&u.jsx("div",{className:"glass-card p-4 border-l-4 border-l-amber-500",children:u.jsx("p",{className:"text-sm text-coffee-600 dark:text-coffee-300",children:"You're in guest mode. Sign in to sync your data across devices."})})]})]})}),u.jsx("footer",{className:"text-center py-6 text-sm text-coffee-500 dark:text-coffee-400",children:u.jsx("p",{children:"Made with  and  by Adrian"})}),u.jsx(Ew,{})]})}function Tw(){return u.jsx(lw,{children:u.jsx(aw,{children:u.jsx(jw,{})})})}qo.createRoot(document.getElementById("root")).render(u.jsx(i0.StrictMode,{children:u.jsx(Tw,{})}));
